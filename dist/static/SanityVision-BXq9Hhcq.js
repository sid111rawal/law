import{r as R,j as d,g as Gu,d as ce,u as Du,C as de,b as On,S as Ae,B as Re,H as Pn,c as Fr,F as ge,o as Zu,e as en,f as Rn,h as Nn,i as In,k as tn,l as Me,v as Ve,n as rn,p as zn,q as kn,s as yu,P as vu,t as Ot,w as ne,x as _e,y as $n,z as un,A as ue,T as Ee,E as Tn,D as Ln,L as Mn,G as xu,I as Vn,J as qn,K as pr,M as Jn,N as Qn,O as Un,Q as bt,R as Hn,U as Wn,V as Kn,W as Xn,X as Yn,Y as Bu,Z as Gn,_ as Zn,$ as ei,a0 as ti,a1 as ri,a2 as ui,a3 as ni,a4 as ii,a5 as Mr,a6 as nn,a7 as si,a8 as sn,a9 as ai,aa as oi,ab as an,ac as li,ad as ci}from"./sanity-uyinkvaq.js";import{l as di,h as Di,a as fi,b as pi,c as hi,i as Ci,d as mi,e as Fi,f as Ai,g as gi,s as on,k as Ei,j as yi,m as vi,n as xi,R as Bi,E as bi,o as Si,H as ji,t as T}from"./index-BN3BTe13.js";import{javascriptLanguage as wi}from"./index-BEpRDSSZ.js";import"./index-S7kdJGQo.js";var _i=Object.defineProperty,bu=Object.getOwnPropertySymbols,Oi=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable,Su=(t,e,r)=>e in t?_i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ju=(t,e)=>{for(var r in e||(e={}))Oi.call(e,r)&&Su(t,r,e[r]);if(bu)for(var r of bu(e))Pi.call(e,r)&&Su(t,r,e[r]);return t};const wu=function(t){const{children:e,className:r,split:u,style:c,size:n,eleRef:D}=t;let a={flex:1,position:"relative",outline:"none"};n!==void 0&&(u==="vertical"?a.width=n:(a.height=n,a.display="flex"),a.flex="none"),a=ju(ju({},a),c);const l=["Pane",u,r].filter(Boolean).join(" ");return d.jsx("div",{role:"region",ref:D,className:l,style:a,children:e})},uu="Resizer",Ri=function(t){const{className:e=uu,onClick:r,onDoubleClick:u,onMouseDown:c,onTouchEnd:n,onTouchStart:D,resizerClassName:a,split:l,style:C}=t,F=[a,l,e].filter(Boolean).join(" ");return d.jsx("span",{role:"separator",className:F,style:C,onMouseDown:h=>c(h.nativeEvent),onTouchStart:h=>{h.preventDefault(),D(h.nativeEvent)},onTouchEnd:h=>{h.preventDefault(),n(h.nativeEvent)},onClick:h=>{r&&(h.preventDefault(),r(h.nativeEvent))},onDoubleClick:h=>{u&&(h.preventDefault(),u(h.nativeEvent))}})};var Ni=Object.defineProperty,Ii=Object.defineProperties,zi=Object.getOwnPropertyDescriptors,_u=Object.getOwnPropertySymbols,ki=Object.prototype.hasOwnProperty,$i=Object.prototype.propertyIsEnumerable,nu=(t,e,r)=>e in t?Ni(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ve=(t,e)=>{for(var r in e||(e={}))ki.call(e,r)&&nu(t,r,e[r]);if(_u)for(var r of _u(e))$i.call(e,r)&&nu(t,r,e[r]);return t},hr=(t,e)=>Ii(t,zi(e)),Dr=(t,e,r)=>nu(t,typeof e!="symbol"?e+"":e,r);const ln={display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},Ti=hr(ve({},ln),{flexDirection:"row",left:0,right:0}),Li=hr(ve({},ln),{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"}),Vr={},cn=class St extends R.Component{constructor(e){super(e),Dr(this,"pane1",null),Dr(this,"pane2",null),Dr(this,"splitPane",null),this.onMouseDown=this.onMouseDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this);const{size:r,defaultSize:u,minSize:c,maxSize:n,primary:D}=e,a=r!==void 0?r:Pu(u,c,n,void 0);this.state={active:!1,resized:!1,pane1Size:D==="first"?a:void 0,pane2Size:D==="second"?a:void 0,instanceProps:{size:r}}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(St.getSizeUpdate(this.props,this.state))}static getDerivedStateFromProps(e,r){return St.getSizeUpdate(e,r)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}onMouseDown(e){this.onTouchStart(hr(ve({},e),{touches:[{clientX:e.clientX,clientY:e.clientY}]}))}onTouchStart(e){const{allowResize:r,onDragStarted:u,split:c}=this.props;if(r){Ou(document,window);const n=c==="vertical"?e.touches[0].clientX:e.touches[0].clientY;typeof u=="function"&&u(),this.setState({active:!0,position:n})}}onMouseMove(e){const r=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(r)}onTouchMove(e){if(!this.state.active||!this.props.allowResize)return;const{position:r=0}=this.state,{maxSize:u,minSize:c=St.defaultProps.minSize,onChange:n,split:D=St.defaultProps.split,step:a}=this.props;Ou(document,window);const l=this.props.primary==="first",C=l?this.pane1:this.pane2,F=l?this.pane2:this.pane1;if(!C||!F||!C.getBoundingClientRect)return;const h=C,B=F,E=h.getBoundingClientRect().width,A=h.getBoundingClientRect().height,i=D==="vertical"?e.touches[0].clientX:e.touches[0].clientY,o=D==="vertical"?E:A;let s=r-i;if(a){if(Math.abs(s)<a)return;s=~~(s/a)*a}let f=l?s:-s;const p=parseInt(window.getComputedStyle(h).order),m=parseInt(window.getComputedStyle(B).order);p>m&&(f=-f);let w=u;this.splitPane&&u!==void 0&&u<=0&&(D==="vertical"?w=this.splitPane.getBoundingClientRect().width+u:w=this.splitPane.getBoundingClientRect().height+u);let N=o-f;const J=r-s;c&&N<c?N=c:w!==void 0&&N>w?N=w:this.setState({position:J,resized:!0}),n&&n(N);const Y=l?{pane1Size:N,pane2Size:void 0}:{pane2Size:N,pane1Size:void 0};this.setState(ve({draggedSize:N},Y))}onMouseUp(){if(!this.state.active||!this.props.allowResize)return;const{onDragFinished:e}=this.props,{draggedSize:r}=this.state;typeof r<"u"&&typeof e=="function"&&e(r),this.setState({active:!1})}static getSizeUpdate(e,r){const{instanceProps:u}=r;if(u.size===e.size&&e.size!==void 0)return{};const c=e.size!==void 0?e.size:Pu(e.defaultSize,e.minSize,e.maxSize,r.draggedSize),n=e.primary==="first"?{pane1Size:c,pane2Size:void 0}:{pane2Size:c,pane1Size:void 0};return hr(ve(ve({},n),typeof e.size>"u"?{}:{draggedSize:c}),{instanceProps:{size:e.size}})}render(){const{allowResize:e,children:r,className:u,onResizerClick:c,onResizerDoubleClick:n,paneClassName:D,pane1ClassName:a,pane2ClassName:l,paneStyle:C,pane1Style:F,pane2Style:h,resizerClassName:B=uu,resizerStyle:E,split:A,style:i}=this.props,{pane1Size:o,pane2Size:s}=this.state,f=e?"":"disabled",p=B&&`${B} ${uu}`,m=Mi(r),w=A==="vertical"?Ti:Li,N=i?ve(ve({},w),i):w,J=["SplitPane",u,A,f].filter(Boolean).join(" "),Y=Ru(ve(ve({},C),F),Vr),b=Ru(ve(ve({},C),h),Vr),y=["Pane1",D,a].join(" "),j=["Pane2",D,l].join(" ");return d.jsxs("div",{"data-testid":"split-pane",className:J,style:N,ref:S=>{this.splitPane=S},children:[d.jsx(wu,{className:y,eleRef:S=>{this.pane1=S},size:o,split:A,style:Y,children:m[0]},"pane1"),d.jsx(Ri,{className:f,onClick:c,onDoubleClick:n,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,resizerClassName:p,split:A||"vertical",style:E||Vr},"resizer"),d.jsx(wu,{className:j,eleRef:S=>{this.pane2=S},size:s,split:A,style:b,children:m[1]},"pane2")]})}};Dr(cn,"defaultProps",{allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""});let qr=cn;function Ou(t,e){var r;if("selection"in t&&typeof t.selection=="object"&&t.selection&&"empty"in t.selection&&typeof t.selection.empty=="function")try{t.selection.empty()}catch{}else if(typeof e<"u"&&typeof e.getSelection=="function")try{(r=e.getSelection())==null||r.removeAllRanges()}catch{}}function Pu(t,e,r,u){if(typeof u=="number"){const c=typeof e=="number"?e:0,n=typeof r=="number"&&r>=0?r:1/0;return Math.max(c,Math.min(n,u))}return t!==void 0?t:e}function Mi(t){return R.Children.toArray(t).filter(e=>e)}function Vi(t){return t===null||typeof t>"u"||Object.keys(t).length===0}function Ru(t,e){return Vi(t)?e:t}var qi=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,Ji=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,Qi=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Jr={Space_Separator:qi,ID_Start:Ji,ID_Continue:Qi},le={isSpaceSeparator(t){return typeof t=="string"&&Jr.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||Jr.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="‌"||t==="‍"||Jr.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let iu,Ce,$e,Cr,Qe,Oe,fe,fu,wt;var Ui=function(e,r){iu=String(e),Ce="start",$e=[],Cr=0,Qe=1,Oe=0,fe=void 0,fu=void 0,wt=void 0;do fe=Hi(),Xi[Ce]();while(fe.type!=="eof");return typeof r=="function"?su({"":wt},"",r):wt};function su(t,e,r){const u=t[e];if(u!=null&&typeof u=="object")if(Array.isArray(u))for(let c=0;c<u.length;c++){const n=String(c),D=su(u,n,r);D===void 0?delete u[n]:Object.defineProperty(u,n,{value:D,writable:!0,enumerable:!0,configurable:!0})}else for(const c in u){const n=su(u,c,r);n===void 0?delete u[c]:Object.defineProperty(u,c,{value:n,writable:!0,enumerable:!0,configurable:!0})}return r.call(t,e,u)}let K,U,jt,ke,Z;function Hi(){for(K="default",U="",jt=!1,ke=1;;){Z=Le();const t=dn[K]();if(t)return t}}function Le(){if(iu[Cr])return String.fromCodePoint(iu.codePointAt(Cr))}function v(){const t=Le();return t===`
`?(Qe++,Oe=0):t?Oe+=t.length:Oe++,t&&(Cr+=t.length),t}const dn={default(){switch(Z){case"	":case"\v":case"\f":case" ":case" ":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":v();return;case"/":v(),K="comment";return;case void 0:return v(),ie("eof")}if(le.isSpaceSeparator(Z)){v();return}return dn[Ce]()},comment(){switch(Z){case"*":v(),K="multiLineComment";return;case"/":v(),K="singleLineComment";return}throw se(v())},multiLineComment(){switch(Z){case"*":v(),K="multiLineCommentAsterisk";return;case void 0:throw se(v())}v()},multiLineCommentAsterisk(){switch(Z){case"*":v();return;case"/":v(),K="default";return;case void 0:throw se(v())}v(),K="multiLineComment"},singleLineComment(){switch(Z){case`
`:case"\r":case"\u2028":case"\u2029":v(),K="default";return;case void 0:return v(),ie("eof")}v()},value(){switch(Z){case"{":case"[":return ie("punctuator",v());case"n":return v(),We("ull"),ie("null",null);case"t":return v(),We("rue"),ie("boolean",!0);case"f":return v(),We("alse"),ie("boolean",!1);case"-":case"+":v()==="-"&&(ke=-1),K="sign";return;case".":U=v(),K="decimalPointLeading";return;case"0":U=v(),K="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":U=v(),K="decimalInteger";return;case"I":return v(),We("nfinity"),ie("numeric",1/0);case"N":return v(),We("aN"),ie("numeric",NaN);case'"':case"'":jt=v()==='"',U="",K="string";return}throw se(v())},identifierNameStartEscape(){if(Z!=="u")throw se(v());v();const t=au();switch(t){case"$":case"_":break;default:if(!le.isIdStartChar(t))throw Nu();break}U+=t,K="identifierName"},identifierName(){switch(Z){case"$":case"_":case"‌":case"‍":U+=v();return;case"\\":v(),K="identifierNameEscape";return}if(le.isIdContinueChar(Z)){U+=v();return}return ie("identifier",U)},identifierNameEscape(){if(Z!=="u")throw se(v());v();const t=au();switch(t){case"$":case"_":case"‌":case"‍":break;default:if(!le.isIdContinueChar(t))throw Nu();break}U+=t,K="identifierName"},sign(){switch(Z){case".":U=v(),K="decimalPointLeading";return;case"0":U=v(),K="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":U=v(),K="decimalInteger";return;case"I":return v(),We("nfinity"),ie("numeric",ke*(1/0));case"N":return v(),We("aN"),ie("numeric",NaN)}throw se(v())},zero(){switch(Z){case".":U+=v(),K="decimalPoint";return;case"e":case"E":U+=v(),K="decimalExponent";return;case"x":case"X":U+=v(),K="hexadecimal";return}return ie("numeric",ke*0)},decimalInteger(){switch(Z){case".":U+=v(),K="decimalPoint";return;case"e":case"E":U+=v(),K="decimalExponent";return}if(le.isDigit(Z)){U+=v();return}return ie("numeric",ke*Number(U))},decimalPointLeading(){if(le.isDigit(Z)){U+=v(),K="decimalFraction";return}throw se(v())},decimalPoint(){switch(Z){case"e":case"E":U+=v(),K="decimalExponent";return}if(le.isDigit(Z)){U+=v(),K="decimalFraction";return}return ie("numeric",ke*Number(U))},decimalFraction(){switch(Z){case"e":case"E":U+=v(),K="decimalExponent";return}if(le.isDigit(Z)){U+=v();return}return ie("numeric",ke*Number(U))},decimalExponent(){switch(Z){case"+":case"-":U+=v(),K="decimalExponentSign";return}if(le.isDigit(Z)){U+=v(),K="decimalExponentInteger";return}throw se(v())},decimalExponentSign(){if(le.isDigit(Z)){U+=v(),K="decimalExponentInteger";return}throw se(v())},decimalExponentInteger(){if(le.isDigit(Z)){U+=v();return}return ie("numeric",ke*Number(U))},hexadecimal(){if(le.isHexDigit(Z)){U+=v(),K="hexadecimalInteger";return}throw se(v())},hexadecimalInteger(){if(le.isHexDigit(Z)){U+=v();return}return ie("numeric",ke*Number(U))},string(){switch(Z){case"\\":v(),U+=Wi();return;case'"':if(jt)return v(),ie("string",U);U+=v();return;case"'":if(!jt)return v(),ie("string",U);U+=v();return;case`
`:case"\r":throw se(v());case"\u2028":case"\u2029":Yi(Z);break;case void 0:throw se(v())}U+=v()},start(){switch(Z){case"{":case"[":return ie("punctuator",v())}K="value"},beforePropertyName(){switch(Z){case"$":case"_":U=v(),K="identifierName";return;case"\\":v(),K="identifierNameStartEscape";return;case"}":return ie("punctuator",v());case'"':case"'":jt=v()==='"',K="string";return}if(le.isIdStartChar(Z)){U+=v(),K="identifierName";return}throw se(v())},afterPropertyName(){if(Z===":")return ie("punctuator",v());throw se(v())},beforePropertyValue(){K="value"},afterPropertyValue(){switch(Z){case",":case"}":return ie("punctuator",v())}throw se(v())},beforeArrayValue(){if(Z==="]")return ie("punctuator",v());K="value"},afterArrayValue(){switch(Z){case",":case"]":return ie("punctuator",v())}throw se(v())},end(){throw se(v())}};function ie(t,e){return{type:t,value:e,line:Qe,column:Oe}}function We(t){for(const e of t){if(Le()!==e)throw se(v());v()}}function Wi(){switch(Le()){case"b":return v(),"\b";case"f":return v(),"\f";case"n":return v(),`
`;case"r":return v(),"\r";case"t":return v(),"	";case"v":return v(),"\v";case"0":if(v(),le.isDigit(Le()))throw se(v());return"\0";case"x":return v(),Ki();case"u":return v(),au();case`
`:case"\u2028":case"\u2029":return v(),"";case"\r":return v(),Le()===`
`&&v(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw se(v());case void 0:throw se(v())}return v()}function Ki(){let t="",e=Le();if(!le.isHexDigit(e)||(t+=v(),e=Le(),!le.isHexDigit(e)))throw se(v());return t+=v(),String.fromCodePoint(parseInt(t,16))}function au(){let t="",e=4;for(;e-- >0;){const r=Le();if(!le.isHexDigit(r))throw se(v());t+=v()}return String.fromCodePoint(parseInt(t,16))}const Xi={start(){if(fe.type==="eof")throw Ke();Qr()},beforePropertyName(){switch(fe.type){case"identifier":case"string":fu=fe.value,Ce="afterPropertyName";return;case"punctuator":cr();return;case"eof":throw Ke()}},afterPropertyName(){if(fe.type==="eof")throw Ke();Ce="beforePropertyValue"},beforePropertyValue(){if(fe.type==="eof")throw Ke();Qr()},beforeArrayValue(){if(fe.type==="eof")throw Ke();if(fe.type==="punctuator"&&fe.value==="]"){cr();return}Qr()},afterPropertyValue(){if(fe.type==="eof")throw Ke();switch(fe.value){case",":Ce="beforePropertyName";return;case"}":cr()}},afterArrayValue(){if(fe.type==="eof")throw Ke();switch(fe.value){case",":Ce="beforeArrayValue";return;case"]":cr()}},end(){}};function Qr(){let t;switch(fe.type){case"punctuator":switch(fe.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=fe.value;break}if(wt===void 0)wt=t;else{const e=$e[$e.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,fu,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")$e.push(t),Array.isArray(t)?Ce="beforeArrayValue":Ce="beforePropertyName";else{const e=$e[$e.length-1];e==null?Ce="end":Array.isArray(e)?Ce="afterArrayValue":Ce="afterPropertyValue"}}function cr(){$e.pop();const t=$e[$e.length-1];t==null?Ce="end":Array.isArray(t)?Ce="afterArrayValue":Ce="afterPropertyValue"}function se(t){return mr(t===void 0?`JSON5: invalid end of input at ${Qe}:${Oe}`:`JSON5: invalid character '${Dn(t)}' at ${Qe}:${Oe}`)}function Ke(){return mr(`JSON5: invalid end of input at ${Qe}:${Oe}`)}function Nu(){return Oe-=5,mr(`JSON5: invalid identifier character at ${Qe}:${Oe}`)}function Yi(t){console.warn(`JSON5: '${Dn(t)}' in strings is not valid ECMAScript; consider escaping`)}function Dn(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const r=t.charCodeAt(0).toString(16);return"\\x"+("00"+r).substring(r.length)}return t}function mr(t){const e=new SyntaxError(t);return e.lineNumber=Qe,e.columnNumber=Oe,e}var Gi=function(e,r,u){const c=[];let n="",D,a,l="",C;if(r!=null&&typeof r=="object"&&!Array.isArray(r)&&(u=r.space,C=r.quote,r=r.replacer),typeof r=="function")a=r;else if(Array.isArray(r)){D=[];for(const i of r){let o;typeof i=="string"?o=i:(typeof i=="number"||i instanceof String||i instanceof Number)&&(o=String(i)),o!==void 0&&D.indexOf(o)<0&&D.push(o)}}return u instanceof Number?u=Number(u):u instanceof String&&(u=String(u)),typeof u=="number"?u>0&&(u=Math.min(10,Math.floor(u)),l="          ".substr(0,u)):typeof u=="string"&&(l=u.substr(0,10)),F("",{"":e});function F(i,o){let s=o[i];switch(s!=null&&(typeof s.toJSON5=="function"?s=s.toJSON5(i):typeof s.toJSON=="function"&&(s=s.toJSON(i))),a&&(s=a.call(o,i,s)),s instanceof Number?s=Number(s):s instanceof String?s=String(s):s instanceof Boolean&&(s=s.valueOf()),s){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof s=="string")return h(s);if(typeof s=="number")return String(s);if(typeof s=="object")return Array.isArray(s)?A(s):B(s)}function h(i){const o={"'":.1,'"':.2},s={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let f="";for(let m=0;m<i.length;m++){const w=i[m];switch(w){case"'":case'"':o[w]++,f+=w;continue;case"\0":if(le.isDigit(i[m+1])){f+="\\x00";continue}}if(s[w]){f+=s[w];continue}if(w<" "){let N=w.charCodeAt(0).toString(16);f+="\\x"+("00"+N).substring(N.length);continue}f+=w}const p=C||Object.keys(o).reduce((m,w)=>o[m]<o[w]?m:w);return f=f.replace(new RegExp(p,"g"),s[p]),p+f+p}function B(i){if(c.indexOf(i)>=0)throw TypeError("Converting circular structure to JSON5");c.push(i);let o=n;n=n+l;let s=D||Object.keys(i),f=[];for(const m of s){const w=F(m,i);if(w!==void 0){let N=E(m)+":";l!==""&&(N+=" "),N+=w,f.push(N)}}let p;if(f.length===0)p="{}";else{let m;if(l==="")m=f.join(","),p="{"+m+"}";else{let w=`,
`+n;m=f.join(w),p=`{
`+n+m+`,
`+o+"}"}}return c.pop(),n=o,p}function E(i){if(i.length===0)return h(i);const o=String.fromCodePoint(i.codePointAt(0));if(!le.isIdStartChar(o))return h(i);for(let s=o.length;s<i.length;s++)if(!le.isIdContinueChar(String.fromCodePoint(i.codePointAt(s))))return h(i);return i}function A(i){if(c.indexOf(i)>=0)throw TypeError("Converting circular structure to JSON5");c.push(i);let o=n;n=n+l;let s=[];for(let p=0;p<i.length;p++){const m=F(String(p),i);s.push(m!==void 0?m:"null")}let f;if(s.length===0)f="[]";else if(l==="")f="["+s.join(",")+"]";else{let p=`,
`+n,m=s.join(p);f=`[
`+n+m+`,
`+o+"]"}return c.pop(),n=o,f}};const Zi={parse:Ui,stringify:Gi};var es=Zi,Xe={},be={},Iu;function Ar(){return Iu||(Iu=1,Object.defineProperty(be,"__esModule",{value:!0}),be.excelBOM=be.defaultCsv2JsonOptions=be.defaultJson2CsvOptions=be.errors=void 0,be.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}},be.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1},be.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1},be.excelBOM="\uFEFF"),be}var Se={},Ye={};/**
 * @license MIT
 * doc-path <https://github.com/mrodrig/doc-path>
 * Copyright (c) 2015-present, Michael Rodrigues.
 */var zu;function pu(){if(zu)return Ye;zu=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.setPath=Ye.evaluatePath=void 0;function t(n,D){if(!n)return null;const{dotIndex:a,key:l,remaining:C}=u(D),F=typeof n=="object"&&D in n?n[D]:void 0,h=typeof n=="object"&&l in n?n[l]:void 0;if(a>=0&&typeof n=="object"&&!(D in n)){const{key:B}=u(C),E=parseInt(B);return Array.isArray(h)&&isNaN(E)?h.map(A=>t(A,C)):t(h,C)}else if(Array.isArray(n)){const B=parseInt(l);return D===l&&a===-1&&!isNaN(B)?h:n.map(E=>t(E,D))}else{if(a>=0&&D!==l&&typeof n=="object"&&l in n)return t(h,C);if(a===-1&&typeof n=="object"&&l in n&&!(D in n))return h}return F}Ye.evaluatePath=t;function e(n,D,a){if(n){if(!D)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return r(n,D,a)}Ye.setPath=e;function r(n,D,a){const{dotIndex:l,key:C,remaining:F}=u(D);if(D.startsWith("__proto__")||D.startsWith("constructor")||D.startsWith("prototype"))return n;if(l>=0){const h=parseInt(C);if(typeof n=="object"&&n!==null&&!(C in n)&&Array.isArray(n)&&!isNaN(h))return n[C]=n[C]??{},r(n[C],F,a),n;if(typeof n=="object"&&n!==null&&!(C in n)&&Array.isArray(n))return n.forEach(B=>r(B,D,a)),n;if(typeof n=="object"&&n!==null&&!(C in n)&&!Array.isArray(n)){const{key:B}=u(F),E=parseInt(B);if(!isNaN(E))n[C]=[];else{if(F==="")return n[D]=a,n;n[C]={}}}r(n[C],F,a)}else if(Array.isArray(n)){const h=parseInt(C);return D===C&&l===-1&&!isNaN(h)?(n[C]=a,n):(n.forEach(B=>r(B,F,a)),n)}else n[C]=a;return n}function u(n){const D=c(n);return{dotIndex:D,key:n.slice(0,D>=0?D:void 0).replace(/\\./g,"."),remaining:n.slice(D+1)}}function c(n){for(let D=0;D<n.length;D++){const a=D>0?n[D-1]:"";if(n[D]==="."&&a!=="\\")return D}return-1}return Ye}var je={},ze={},ku;function ts(){if(ku)return ze;ku=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.isDocumentToRecurOn=ze.flatten=ze.unique=void 0;function t(u){return[...new Set(u)]}ze.unique=t;function e(u){return[].concat(...u)}ze.flatten=e;function r(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)&&Object.keys(u).length}return ze.isDocumentToRecurOn=r,ze}var Ur={},$u;function rs(){return $u||($u=1,Object.defineProperty(Ur,"__esModule",{value:!0})),Ur}var Tu;function us(){return Tu||(Tu=1,(function(t){var e=je&&je.__createBinding||(Object.create?(function(E,A,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(A,i);(!s||("get"in s?!A.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return A[i]}}),Object.defineProperty(E,o,s)}):(function(E,A,i,o){o===void 0&&(o=i),E[o]=A[i]})),r=je&&je.__setModuleDefault||(Object.create?(function(E,A){Object.defineProperty(E,"default",{enumerable:!0,value:A})}):function(E,A){E.default=A}),u=je&&je.__importStar||function(E){if(E&&E.__esModule)return E;var A={};if(E!=null)for(var i in E)i!=="default"&&Object.prototype.hasOwnProperty.call(E,i)&&e(A,E,i);return r(A,E),A},c=je&&je.__exportStar||function(E,A){for(var i in E)i!=="default"&&!Object.prototype.hasOwnProperty.call(A,i)&&e(A,E,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.deepKeysFromList=t.deepKeys=void 0;const n=u(ts());c(rs(),t);function D(E,A){const i=B(A);return typeof E=="object"&&E!==null?l("",E,i):[]}t.deepKeys=D;function a(E,A){const i=B(A);return E.map(o=>typeof o=="object"&&o!==null?D(o,i):[])}t.deepKeysFromList=a;function l(E,A,i){const o=Object.keys(A).map(s=>{const f=h(E,F(s,i));return i.expandNestedObjects&&n.isDocumentToRecurOn(A[s])||i.arrayIndexesAsKeys&&Array.isArray(A[s])&&A[s].length?l(f,A[s],i):i.expandArrayObjects&&Array.isArray(A[s])?C(A[s],f,i):i.ignoreEmptyArrays&&Array.isArray(A[s])&&!A[s].length?[]:f});return n.flatten(o)}function C(E,A,i){let o=a(E,i);return E.length?E.length&&n.flatten(o).length===0?[A]:(o=o.map(s=>Array.isArray(s)&&s.length===0?[A]:s.map(f=>h(A,F(f,i)))),n.unique(n.flatten(o))):i.ignoreEmptyArraysWhenExpanding?[]:[A]}function F(E,A){return A.escapeNestedDots?E.replace(/\./g,"\\."):E}function h(E,A){return E?E+"."+A:A}function B(E){return{arrayIndexesAsKeys:!1,expandNestedObjects:!0,expandArrayObjects:!1,ignoreEmptyArraysWhenExpanding:!1,escapeNestedDots:!1,ignoreEmptyArrays:!1,...E??{}}}})(je)),je}var M={},Lu;function hu(){if(Lu)return M;Lu=1,Object.defineProperty(M,"__esModule",{value:!0}),M.isInvalid=M.flatten=M.unique=M.arrayDifference=M.isError=M.isUndefined=M.isNull=M.isObject=M.isString=M.isNumber=M.unwind=M.getNCharacters=M.removeEmptyFields=M.isEmptyField=M.computeSchemaDifferences=M.isDateRepresentation=M.isStringRepresentation=M.deepCopy=M.validate=M.buildC2JOptions=M.buildJ2COptions=void 0;const t=pu(),e=Ar(),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,u=1e5;function c(y){return{...e.defaultJson2CsvOptions,...y,delimiter:{field:y?.delimiter?.field??e.defaultJson2CsvOptions.delimiter.field,wrap:y?.delimiter?.wrap||e.defaultJson2CsvOptions.delimiter.wrap,eol:y?.delimiter?.eol||e.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:Object.create({})}}M.buildJ2COptions=c;function n(y){return{...e.defaultCsv2JsonOptions,...y,delimiter:{field:y?.delimiter?.field??e.defaultCsv2JsonOptions.delimiter.field,wrap:y?.delimiter?.wrap||e.defaultCsv2JsonOptions.delimiter.wrap,eol:y?.delimiter?.eol||e.defaultCsv2JsonOptions.delimiter.eol}}}M.buildC2JOptions=n;function D(y,j,S){if(!y)throw new Error(`${S.cannotCallOn} ${y}.`);if(!j(y))throw new Error(S.dataCheckFailure);return!0}M.validate=D;function a(y){return JSON.parse(JSON.stringify(y))}M.deepCopy=a;function l(y,j){const S=y[0],x=y.length-1,z=y[x];return S===j.delimiter.wrap&&z===j.delimiter.wrap}M.isStringRepresentation=l;function C(y){return r.test(y)}M.isDateRepresentation=C;function F(y,j){return N(y,j).concat(N(j,y))}M.computeSchemaDifferences=F;function h(y){return m(y)||p(y)||y===""}M.isEmptyField=h;function B(y){return y.filter(j=>!h(j))}M.removeEmptyFields=B;function E(y,j,S){return y.substring(j,j+S)}M.getNCharacters=E;function A(y,j,S){const x=(0,t.evaluatePath)(j,S);let z=a(j);Array.isArray(x)&&x.length?x.forEach(k=>{z=a(j),y.push((0,t.setPath)(z,S,k))}):(Array.isArray(x)&&x.length===0&&(0,t.setPath)(z,S,""),y.push(z))}function i(y,j){const S=[];return y.forEach(x=>{A(S,x,j)}),S}M.unwind=i;function o(y){return!isNaN(Number(y))}M.isNumber=o;function s(y){return typeof y=="string"}M.isString=s;function f(y){return typeof y=="object"}M.isObject=f;function p(y){return y===null}M.isNull=p;function m(y){return typeof y>"u"}M.isUndefined=m;function w(y){return Object.prototype.toString.call(y)==="[object Error]"}M.isError=w;function N(y,j){return y.filter(S=>!j.includes(S))}M.arrayDifference=N;function J(y){return[...new Set(y)]}M.unique=J;function Y(y){if(y.flat)return y.flat();if(y.length>u){let j=[];for(let S=0;S<y.length;S+=u)j=j.concat(...y.slice(S,S+u));return j}return y.reduce((j,S)=>j.concat(S),[])}M.flatten=Y;function b(y){return y===1/0||y===-1/0}return M.isInvalid=b,M}var Mu;function ns(){if(Mu)return Se;Mu=1;var t=Se&&Se.__createBinding||(Object.create?(function(l,C,F,h){h===void 0&&(h=F);var B=Object.getOwnPropertyDescriptor(C,F);(!B||("get"in B?!C.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return C[F]}}),Object.defineProperty(l,h,B)}):(function(l,C,F,h){h===void 0&&(h=F),l[h]=C[F]})),e=Se&&Se.__setModuleDefault||(Object.create?(function(l,C){Object.defineProperty(l,"default",{enumerable:!0,value:C})}):function(l,C){l.default=C}),r=Se&&Se.__importStar||function(l){if(l&&l.__esModule)return l;var C={};if(l!=null)for(var F in l)F!=="default"&&Object.prototype.hasOwnProperty.call(l,F)&&t(C,l,F);return e(C,l),C};Object.defineProperty(Se,"__esModule",{value:!0}),Se.Json2Csv=void 0;const u=pu(),c=us(),n=Ar(),D=r(hu()),a=function(l){const C=new RegExp(l.delimiter.wrap,"g"),F=/\r?\n|\r/,h=l.parseValue&&typeof l.parseValue=="function"?l.parseValue:null,B=l.expandArrayObjects&&!l.unwindArrays,E={arrayIndexesAsKeys:l.arrayIndexesAsKeys,expandNestedObjects:l.expandNestedObjects,expandArrayObjects:B,ignoreEmptyArraysWhenExpanding:B,escapeNestedDots:!0};function A(g){return(0,c.deepKeysFromList)(g,E)}function i(g){return g.length===0?[]:l.checkSchemaDifferences?o(g):D.unique(D.flatten(g))}function o(g){const _=g[0],I=g.slice(1);if(s(_,I))throw new Error(n.errors.json2csv.notSameSchema);return _}function s(g,_){return _.reduce((I,G)=>D.computeSchemaDifferences(g,G).length>0?I+1:I,0)}function f(g){return l.excludeKeys?g.filter(_=>{for(const I of l.excludeKeys){const G=I instanceof RegExp?I:new RegExp(`^${I}`);if(I===_||_.match(G))return!1}return!0}):g}function p(g){return l.sortHeader&&typeof l.sortHeader=="function"?g.sort(l.sortHeader):l.sortHeader?g.sort():g}function m(g){return l.trimHeaderFields&&(g.headerFields=g.headerFields.map(_=>_.split(".").map(I=>I.trim()).join("."))),g}function w(g){return l.prependHeader&&(g.headerFields=g.headerFields.map(function(_){return Q(_)})),g}function N(g){const _=Object.keys(l.fieldTitleMap);return g.header=g.headerFields.map(function(I){let G=I;return _.includes(I)?G=l.fieldTitleMap[I]:l.escapeHeaderNestedDots||(G=G.replace(/\\\./g,".")),G}).join(l.delimiter.field),g}function J(){return l.keys?l.keys.map(g=>typeof g=="object"&&"field"in g?(l.fieldTitleMap[g.field]=g.title??g.field,g.field):g):[]}function Y(){return l.keys?l.keys.flatMap(g=>typeof g=="string"?[]:g?.wildcardMatch?g.field:[]):[]}function b(g){const _=Y(),I=J(),G=A(g),L=i(G);if(l.keys){l.keys=I;const W=I.flatMap(te=>{if(!_.includes(te))return te;const De=[],pe=new RegExp(`^${te}`);for(const q of L)(te===q||q.match(pe))&&De.push(q);return De});if(!l.unwindArrays){const te=f(W);return p(te)}}const V=f(L);return p(V)}function y(g){for(const _ of g.records)for(const I of g.headerFields){const G=(0,u.evaluatePath)(_,I);if(Array.isArray(G))return!0}return!1}function j(g,_=!1){if(l.unwindArrays){if(g.headerFields.forEach(I=>{g.records=D.unwind(g.records,I)}),g.headerFields=b(g.records),y(g))return j(g,_);if(!_)return j(g,!0);if(l.keys){const I=J();g.headerFields=f(I)}return g}return g}function S(g){return g.recordString=g.records.map(_=>{const I=z(_,g.headerFields),G=I.map(L=>{L=X(L),L=ee(L);let V=h?h(L,k):k(L);return V=Q(V),V});return O(G)}).join(l.delimiter.eol),g}function x(g){const _=D.removeEmptyFields(g);return!g.length||!_.length?l.emptyFieldValue||"":_.length===1?_[0]:g}function z(g,_){const I=[];return _.forEach(G=>{let L=(0,u.evaluatePath)(g,G);!D.isUndefined(l.emptyFieldValue)&&D.isEmptyField(L)?L=l.emptyFieldValue:l.expandArrayObjects&&Array.isArray(L)&&(L=x(L)),I.push(L)}),I}function k(g){const _=g instanceof Date;return g===null||Array.isArray(g)||typeof g=="object"&&!_?JSON.stringify(g):typeof g>"u"?"undefined":_&&l.useDateIso8601Format?g.toISOString():l.useLocaleFormat?g.toLocaleString():g.toString()}function X(g){return l.trimFieldValues?Array.isArray(g)?g.map(X):typeof g=="string"?g.trim():g:g}function ee(g){return l.preventCsvInjection?Array.isArray(g)?g.map(ee):typeof g=="string"&&!D.isNumber(g)?g.replace(/^[=+\-@\t\r]+/g,""):g:g}function Q(g){const _=l.delimiter.wrap;return g.includes(l.delimiter.wrap)&&(g=g.replace(C,_+_)),(g.includes(l.delimiter.field)||g.includes(l.delimiter.wrap)||g.match(F)||l.wrapBooleans&&(g==="true"||g==="false"))&&(g=_+g+_),g}function O(g){return g.join(l.delimiter.field)}function H(g){const _=g.header,I=g.recordString;return(l.excelBOM?n.excelBOM:"")+(l.prependHeader?_+l.delimiter.eol:"")+I}function ae(g){Array.isArray(g)||(g=[g]);const _={headerFields:b(g),records:g,header:"",recordString:""},I=j(_),G=S(I),L=w(G),V=m(L),W=N(V);return H(W)}return{convert:ae}};return Se.Json2Csv=a,Se}var we={},Vu;function is(){if(Vu)return we;Vu=1;var t=we&&we.__createBinding||(Object.create?(function(a,l,C,F){F===void 0&&(F=C);var h=Object.getOwnPropertyDescriptor(l,C);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[C]}}),Object.defineProperty(a,F,h)}):(function(a,l,C,F){F===void 0&&(F=C),a[F]=l[C]})),e=we&&we.__setModuleDefault||(Object.create?(function(a,l){Object.defineProperty(a,"default",{enumerable:!0,value:l})}):function(a,l){a.default=l}),r=we&&we.__importStar||function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var C in a)C!=="default"&&Object.prototype.hasOwnProperty.call(a,C)&&t(l,a,C);return e(l,a),l};Object.defineProperty(we,"__esModule",{value:!0}),we.Csv2Json=void 0;const u=pu(),c=Ar(),n=r(hu()),D=function(a){const l=new RegExp(a.delimiter.wrap+a.delimiter.wrap,"g"),C=new RegExp("^"+c.excelBOM),F=a.parseValue&&typeof a.parseValue=="function"?a.parseValue:JSON.parse;function h(b){return b=m(b),a.trimHeaderFields?b.split(".").map(y=>y.trim()).join("."):b}function B(b){let y=[];if(a.headerFields)y=a.headerFields.map((j,S)=>({value:h(j),index:S}));else if(y=b[0].map((S,x)=>({value:h(S),index:x})),a.keys){const S=a.keys;y=y.filter(x=>S.includes(x.value))}return{lines:b,headerFields:y,recordLines:[]}}function E(b){return a.excelBOM?b.replace(C,""):b}function A(b){const y=[],j=b.length-1,S=a.delimiter.eol.length,x={insideWrapDelimiter:!1,parsingValue:!0,justParsedDoubleQuote:!1,startIndex:0};let z=[],k,X,ee,Q,O=0;for(;O<b.length;){if(k=b[O],X=O?b[O-1]:"",ee=O<j?b[O+1]:"",Q=n.getNCharacters(b,O,S),(Q===a.delimiter.eol&&!x.insideWrapDelimiter||O===j)&&X===a.delimiter.field)Q===a.delimiter.eol&&x.startIndex===O||k===a.delimiter.field?z.push(""):z.push(b.substring(x.startIndex)),z.push(""),y.push(z),z=[],x.startIndex=O+S,x.parsingValue=!0,x.insideWrapDelimiter=ee===a.delimiter.wrap;else if(O===j&&k===a.delimiter.field){const H=b.substring(x.startIndex,O);z.push(H),z.push(""),y.push(z)}else if(O===j||Q===a.delimiter.eol&&(!x.insideWrapDelimiter||x.insideWrapDelimiter&&X===a.delimiter.wrap&&!x.justParsedDoubleQuote)){const H=O!==j||X===a.delimiter.wrap?O:void 0;z.push(b.substring(x.startIndex,H)),y.push(z),z=[],x.startIndex=O+S,x.parsingValue=!0,x.insideWrapDelimiter=ee===a.delimiter.wrap}else if(k===a.delimiter.wrap&&X===a.delimiter.field&&!x.insideWrapDelimiter&&!x.parsingValue)x.startIndex=O,x.insideWrapDelimiter=!0,x.parsingValue=!0,n.getNCharacters(b,O+1,S)===a.delimiter.eol&&(O+=a.delimiter.eol.length+1);else if(X===a.delimiter.field&&k===a.delimiter.wrap&&ee===a.delimiter.eol)z.push(b.substring(x.startIndex,O-1)),x.startIndex=O,x.parsingValue=!0,x.insideWrapDelimiter=!0,x.justParsedDoubleQuote=!0,O+=1;else if((X!==a.delimiter.wrap||x.justParsedDoubleQuote&&X===a.delimiter.wrap)&&k===a.delimiter.wrap&&n.getNCharacters(b,O+1,S)===a.delimiter.eol)x.insideWrapDelimiter=!1,x.parsingValue=!1;else if(k===a.delimiter.wrap&&(O===0||n.getNCharacters(b,O-S,S)===a.delimiter.eol&&!x.insideWrapDelimiter))x.insideWrapDelimiter=!0,x.parsingValue=!0,x.startIndex=O;else if(k===a.delimiter.wrap&&ee===a.delimiter.field&&x.insideWrapDelimiter)z.push(b.substring(x.startIndex,O+1)),x.startIndex=O+2,x.insideWrapDelimiter=!1,x.parsingValue=!1;else if(k===a.delimiter.wrap&&X===a.delimiter.field&&!x.insideWrapDelimiter&&x.parsingValue)z.push(b.substring(x.startIndex,O-1)),x.insideWrapDelimiter=!0,x.parsingValue=!0,x.startIndex=O;else if(k===a.delimiter.wrap&&ee===a.delimiter.wrap&&O!==x.startIndex){O+=2,x.justParsedDoubleQuote=!0;continue}else k===a.delimiter.field&&X!==a.delimiter.wrap&&ee!==a.delimiter.wrap&&!x.insideWrapDelimiter&&x.parsingValue?(z.push(b.substring(x.startIndex,O)),x.startIndex=O+1):k===a.delimiter.field&&X===a.delimiter.wrap&&ee!==a.delimiter.wrap&&!x.parsingValue&&(x.insideWrapDelimiter=!1,x.parsingValue=!0,x.startIndex=O+1);O++,x.justParsedDoubleQuote=!1}return y}function i(b){return a.headerFields?b.recordLines=b.lines:b.recordLines=b.lines.splice(1),b}function o(b,y){const j=y[b.index];return s(j)}function s(b){const y=J(b);return!n.isError(y)&&!n.isInvalid(y)?y:b==="undefined"?void 0:b}function f(b){return a.trimFieldValues&&b!==null?b.trim():b}function p(b,y){return b.reduce((j,S)=>{const x=o(S,y);try{return(0,u.setPath)(j,S.value,x)}catch{return j}},{})}function m(b){const y=b[0],j=b.length-1,S=b[j];return y===a.delimiter.wrap&&S===a.delimiter.wrap?b.length<=2?"":b.substring(1,j):b}function w(b){return b.replace(l,a.delimiter.wrap)}function N(b){return b.recordLines.reduce((y,j)=>{j=j.map(x=>(x=m(x),x=w(x),x=f(x),x));const S=p(b.headerFields,j);return y.concat(S)},[])}function J(b){try{if(n.isStringRepresentation(b,a)&&!n.isDateRepresentation(b))return b;const y=F(b);return Array.isArray(y)?y.map(f):y}catch(y){return y}}function Y(b){const y=E(b),j=A(y),S=B(j),x=i(S);return N(x)}return{convert:Y}};return we.Csv2Json=D,we}var qu;function ss(){if(qu)return Xe;qu=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.csv2json=Xe.json2csv=void 0;const t=Ar(),e=ns(),r=is(),u=hu();function c(D,a){const l=(0,u.buildJ2COptions)(a??{});return(0,u.validate)(D,u.isObject,t.errors.json2csv),(0,e.Json2Csv)(l).convert(D)}Xe.json2csv=c;function n(D,a){const l=(0,u.buildC2JOptions)(a??{});return(0,u.validate)(D,u.isString,t.errors.csv2json),(0,r.Csv2Json)(l).convert(D)}return Xe.csv2json=n,Xe}var as=ss(),Hr,Ju;function os(){if(Ju)return Hr;Ju=1;function t(e,r,u){var c,n,D,a,l;r==null&&(r=100);function C(){var h=Date.now()-a;h<r&&h>=0?c=setTimeout(C,r-h):(c=null,u||(l=e.apply(D,n),D=n=null))}var F=function(){D=this,n=arguments,a=Date.now();var h=u&&!c;return c||(c=setTimeout(C,r)),h&&(l=e.apply(D,n),D=n=null),l};return F.clear=function(){c&&(clearTimeout(c),c=null)},F.flush=function(){c&&(l=e.apply(D,n),D=n=null,clearTimeout(c),c=null)},F}return t.debounce=t,Hr=t,Hr}var ls=os();const cs=Gu(ls);var Wr,Qu;function ds(){if(Qu)return Wr;Qu=1,Wr=t;function t(A){for(var i=a(A),o=1732584193,s=-271733879,f=-1732584194,p=271733878,m=0;m<i.length;m+=16){var w=o,N=s,J=f,Y=p;o=F(o,s,f,p,i[m+0],7,-680876936),p=F(p,o,s,f,i[m+1],12,-389564586),f=F(f,p,o,s,i[m+2],17,606105819),s=F(s,f,p,o,i[m+3],22,-1044525330),o=F(o,s,f,p,i[m+4],7,-176418897),p=F(p,o,s,f,i[m+5],12,1200080426),f=F(f,p,o,s,i[m+6],17,-1473231341),s=F(s,f,p,o,i[m+7],22,-45705983),o=F(o,s,f,p,i[m+8],7,1770035416),p=F(p,o,s,f,i[m+9],12,-1958414417),f=F(f,p,o,s,i[m+10],17,-42063),s=F(s,f,p,o,i[m+11],22,-1990404162),o=F(o,s,f,p,i[m+12],7,1804603682),p=F(p,o,s,f,i[m+13],12,-40341101),f=F(f,p,o,s,i[m+14],17,-1502002290),s=F(s,f,p,o,i[m+15],22,1236535329),o=h(o,s,f,p,i[m+1],5,-165796510),p=h(p,o,s,f,i[m+6],9,-1069501632),f=h(f,p,o,s,i[m+11],14,643717713),s=h(s,f,p,o,i[m+0],20,-373897302),o=h(o,s,f,p,i[m+5],5,-701558691),p=h(p,o,s,f,i[m+10],9,38016083),f=h(f,p,o,s,i[m+15],14,-660478335),s=h(s,f,p,o,i[m+4],20,-405537848),o=h(o,s,f,p,i[m+9],5,568446438),p=h(p,o,s,f,i[m+14],9,-1019803690),f=h(f,p,o,s,i[m+3],14,-187363961),s=h(s,f,p,o,i[m+8],20,1163531501),o=h(o,s,f,p,i[m+13],5,-1444681467),p=h(p,o,s,f,i[m+2],9,-51403784),f=h(f,p,o,s,i[m+7],14,1735328473),s=h(s,f,p,o,i[m+12],20,-1926607734),o=B(o,s,f,p,i[m+5],4,-378558),p=B(p,o,s,f,i[m+8],11,-2022574463),f=B(f,p,o,s,i[m+11],16,1839030562),s=B(s,f,p,o,i[m+14],23,-35309556),o=B(o,s,f,p,i[m+1],4,-1530992060),p=B(p,o,s,f,i[m+4],11,1272893353),f=B(f,p,o,s,i[m+7],16,-155497632),s=B(s,f,p,o,i[m+10],23,-1094730640),o=B(o,s,f,p,i[m+13],4,681279174),p=B(p,o,s,f,i[m+0],11,-358537222),f=B(f,p,o,s,i[m+3],16,-722521979),s=B(s,f,p,o,i[m+6],23,76029189),o=B(o,s,f,p,i[m+9],4,-640364487),p=B(p,o,s,f,i[m+12],11,-421815835),f=B(f,p,o,s,i[m+15],16,530742520),s=B(s,f,p,o,i[m+2],23,-995338651),o=E(o,s,f,p,i[m+0],6,-198630844),p=E(p,o,s,f,i[m+7],10,1126891415),f=E(f,p,o,s,i[m+14],15,-1416354905),s=E(s,f,p,o,i[m+5],21,-57434055),o=E(o,s,f,p,i[m+12],6,1700485571),p=E(p,o,s,f,i[m+3],10,-1894986606),f=E(f,p,o,s,i[m+10],15,-1051523),s=E(s,f,p,o,i[m+1],21,-2054922799),o=E(o,s,f,p,i[m+8],6,1873313359),p=E(p,o,s,f,i[m+15],10,-30611744),f=E(f,p,o,s,i[m+6],15,-1560198380),s=E(s,f,p,o,i[m+13],21,1309151649),o=E(o,s,f,p,i[m+4],6,-145523070),p=E(p,o,s,f,i[m+11],10,-1120210379),f=E(f,p,o,s,i[m+2],15,718787259),s=E(s,f,p,o,i[m+9],21,-343485551),o=n(o,w),s=n(s,N),f=n(f,J),p=n(p,Y)}return D(o)+D(s)+D(f)+D(p)}var e="0123456789abcdef";function r(A,i){var o=A&1|i&1,s=A>>>1|i>>>1;return s<<1|o}function u(A,i){var o=A&1^i&1,s=A>>>1^i>>>1;return s<<1|o}function c(A,i){var o=A&1&(i&1),s=A>>>1&i>>>1;return s<<1|o}function n(A,i){var o=(A&65535)+(i&65535),s=(A>>16)+(i>>16)+(o>>16);return s<<16|o&65535}function D(A){var i="",o;for(o=0;o<=3;o++)i+=e.charAt(A>>o*8+4&15)+e.charAt(A>>o*8&15);return i}function a(A){var i=(A.length+8>>6)+1,o=new Array(i*16),s;for(s=0;s<i*16;s++)o[s]=0;for(s=0;s<A.length;s++)o[s>>2]|=A.charCodeAt(s)<<(A.length*8+s)%4*8;o[s>>2]|=128<<(A.length*8+s)%4*8;var f=A.length*8;return o[i*16-2]=f&255,o[i*16-2]|=(f>>>8&255)<<8,o[i*16-2]|=(f>>>16&255)<<16,o[i*16-2]|=(f>>>24&255)<<24,o}function l(A,i){return A<<i|A>>>32-i}function C(A,i,o,s,f,p){return n(l(n(n(i,A),n(s,p)),f),o)}function F(A,i,o,s,f,p,m){return C(r(c(i,o),c(~i,s)),A,i,f,p,m)}function h(A,i,o,s,f,p,m){return C(r(c(i,s),c(o,~s)),A,i,f,p,m)}function B(A,i,o,s,f,p,m){return C(u(u(i,o),s),A,i,f,p,m)}function E(A,i,o,s,f,p,m){return C(u(o,r(i,~s)),A,i,f,p,m)}return Wr}var Ds=ds();const fs=Gu(Ds);let ps=Math.ceil(Math.random()*10);const hs=()=>++ps;function Cu(t){return Object.prototype.toString.call(t).slice(8,-1)}function ou(t){const e=Cu(t);return e!=="Object"&&e!=="Array"}class Cs extends R.Component{shouldComponentUpdate(e){return e.highlight!==this.props.highlight}render(){const e=this.props.string||"",r=this.props.highlight||"",u=e.search(r);if(!r||u===-1)return d.jsx("span",{children:e});const c=r.source.length,n=e.slice(u,u+c);return d.jsx("span",{children:e.split(r).map(function(D,a){return d.jsxs("span",{children:[a>0?d.jsx("span",{className:"json-inspector__hl",children:n}):null,D]},a)})})}}function gr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const ms=".root.";class mu extends R.Component{constructor(e){super(e),this.state={expanded:this._isInitiallyExpanded(this.props)}}render(){const{label:e,data:r,root:u,id:c}=this.props,n="id_"+hs(),D={path:this.keypath(),key:e.toString(),value:r},a=this._onClick.bind(this,D);return d.jsxs("div",{"data-testid":u?"leaf-root":"leaf-child","aria-expanded":this.state.expanded,"data-root":u||void 0,className:this.getClassName(),id:"leaf-"+this._rootPath(),children:[d.jsx("input",{className:"json-inspector__radio",type:"radio",name:n,id:c,tabIndex:-1}),d.jsxs("label",{className:"json-inspector__line",htmlFor:n,onClick:a,children:[d.jsx("div",{className:"json-inspector__flatpath",children:D.path}),d.jsxs("span",{className:"json-inspector__key",children:[this.format(D.key),":",this.renderInteractiveLabel(D.key,!0)]}),this.renderTitle(),this.renderShowOriginalButton()]}),this.renderChildren()]})}renderTitle(){const e=this.data(),r=Cu(e);if(Array.isArray(e)){const u=e.length;return d.jsxs("span",{className:"json-inspector__value json-inspector__value_helper",children:[u>0?"[…] ":"[] ",Fs(u)]})}if(typeof e=="object"&&e!==null){const u=Object.keys(e).length;return d.jsxs("span",{className:"json-inspector__value json-inspector__value_helper",children:[u>0?"{…} ":"{} ",As(u)]})}return d.jsxs("span",{className:"json-inspector__value json-inspector__value_"+r.toLowerCase(),children:[this.format(String(e)),this.renderInteractiveLabel(e,!1)]})}renderChildren(){const{verboseShowOriginal:e,query:r,id:u,isExpanded:c,interactiveLabel:n,onClick:D,getOriginal:a}=this.props,l=this._rootPath(),C=this.data();return this.state.expanded&&(gr(C)||Array.isArray(C))?Object.keys(C).map(F=>{const h=C[F],B=!this.state.original||(e?r:!1);return d.jsx(mu,{data:h,label:F,prefix:l,onClick:D,id:u,query:r,getOriginal:B?a:void 0,isExpanded:c,interactiveLabel:n,verboseShowOriginal:e},gs(F,h))}):null}renderShowOriginalButton(){const{data:e,getOriginal:r,query:u}=this.props;return ou(e)||this.state.original||!r||!u||u.test(this.keypath())?null:d.jsx("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})}renderInteractiveLabel(e,r){const u=this.props.interactiveLabel;return typeof u=="function"?d.jsx(u,{value:String(e),originalValue:e,isKey:r,keypath:this.keypath()}):null}static getDerivedStateFromProps(e,r){return e.query?{expanded:!e.query.test(e.label)}:null}componentDidUpdate(e){e.query&&!this.props.query&&this.setState({expanded:this._isInitiallyExpanded(this.props)})}_rootPath(){return(this.props.prefix||"")+"."+this.props.label}keypath(){return this._rootPath().slice(ms.length)}data(){return this.state.original||this.props.data}format(e){return d.jsx(Cs,{string:e,highlight:this.props.query})}getClassName(){let e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),ou(this.props.data)||(e+=" json-inspector__leaf_composite"),e}toggle(){this.setState({expanded:!this.state.expanded})}_onClick(e,r){this.toggle(),this.props.onClick&&this.props.onClick(e),r.stopPropagation()}_onShowOriginalClick=e=>{this.setState({original:this.props.getOriginal?.(this.keypath())}),e.stopPropagation()};_isInitiallyExpanded(e){if(e.root)return!0;const r=this.keypath();return e.query?!e.query.test(r)&&typeof e.getOriginal=="function":e.isExpanded?e.isExpanded(r,e.data):!1}}function Fs(t){return t+(t===1?" item":" items")}function As(t){return t+(t===1?" property":" properties")}function gs(t,e){if(ou(e)){const r=fs(String(e));return t+":"+r}else return t+"["+Cu(e)+"]"}const fn=(...t)=>{},Es=({onChange:t=fn})=>{const e=R.useCallback(r=>t(r.target.value),[t]);return d.jsx("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:e})};function pn(t){return gr(t)?Object.keys(t).length===0:Array.isArray(t)?t.length===0:t===null||typeof t!="string"||typeof t!="number"?!0:Object.keys(t).length===0}const Kr=vs((t,e)=>{const r=e||{cacheResults:!0},u={};return function(c){if(!r.cacheResults)return fr(t,c,r);let n;if(!u[c]){for(var D=c.length-1;D>0;D-=1)if(n=c.slice(0,D),u[n]){u[c]=fr(u[n],c,r);break}}return u[c]||(u[c]=fr(t,c,r)),u[c]}});function fr(t,e,r){return!gr(t)&&!Array.isArray(t)?{}:Object.keys(t).reduce(function(u,c){const n=t[c];let D;return n?typeof n!="object"?((Xr(e,c,r)||Xr(e,n,r))&&(u[c]=n),u):Xr(e,c,r)?(u[c]=n,u):(D=fr(n,e,r),pn(D)||Object.assign(u,ys(c,D)),u):u},{})}function Xr(t,e,r){if(!e)return!1;var u=String(e),c=t;return r?.ignoreCase&&(u=u.toLowerCase(),c=c.toLowerCase()),u.indexOf(c)!==-1}function ys(t,e){return{[t]:e}}function vs(t){let e,r,u;return(c,n)=>((!u||c!==e||n!==r)&&(e=c,r=n,u=t(c,n)),u)}const Yr=".";function Uu(t){return parseInt(t,10)}function lu(t,e){var r=e.split(Yr),u=r.shift();if(!u)return t;if(Array.isArray(t)&&t[Uu(u)])return lu(t[Uu(u)],r.join(Yr));if(gr(t)&&u in t)return lu(t[u],r.join(Yr))}const xs=t=>t.length>=2,Bs={cacheResults:!0,ignoreCase:!1};class bs extends R.Component{static defaultProps={data:null,search:Es,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:fn,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,r){return!1},verboseShowOriginal:!1};constructor(e){super(e),this.state={query:"",filterer:Kr(e.data,e.filterOptions)}}render(){const{data:e,className:r,onClick:u,id:c,isExpanded:n,interactiveLabel:D,verboseShowOriginal:a,filterOptions:l=Bs,validateQuery:C=xs}=this.props,F=this.state.query!==""&&C(this.state.query),h=F?this.state.filterer(this.state.query):e,B=F&&pn(h);return d.jsxs("div",{"data-testid":"json-inspector",className:"json-inspector "+r,children:[this.renderToolbar(),B?d.jsx("div",{className:"json-inspector__not-found",children:"Nothing found"}):d.jsx(mu,{data:h,onClick:u,id:c,getOriginal:this.getOriginal,query:F?new RegExp(this.state.query,l.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:n,interactiveLabel:D,verboseShowOriginal:a})]})}renderToolbar(){const e=this.props.search;return e?d.jsx("div",{className:"json-inspector__toolbar",children:d.jsx(e,{onChange:cs(this.search,this.props.searchOptions?.debounceTime),data:this.props.data,query:this.state.query})}):null}search=e=>{this.setState({query:e})};static getDerivedStateFromProps(e,r){const u=Kr(e.data,e.filterOptions);return u===r.filterer?null:{...r,filterer:u}}shouldComponentUpdate(e,r){return r.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick}createFilterer=(e,r)=>{this.setState({filterer:Kr(e,r)})};getOriginal=e=>lu(this.props.data,e)}const _t=["v1","vX","v2021-03-25","v2021-10-21","v2022-03-07","v2025-02-19",`v${new Date().toISOString().split("T")[0]}`],[hn]=_t.slice(-1);function Cn(t){const e=ce.c(5),[r,u]=R.useState(!1);let c,n;e[0]!==t.delay?(c=()=>{const a=setTimeout(()=>u(!0),t.delay||500);return()=>clearTimeout(a)},n=[t.delay],e[0]=t.delay,e[1]=c,e[2]=n):(c=e[1],n=e[2]),R.useEffect(c,n);let D;return e[3]!==r?(D=r?d.jsx(In,{muted:!0,size:4}):null,e[3]=r,e[4]=D):D=e[4],D}const Ss=[[wi],di(),Di(),fi(),pi(),hi(),Ci(),mi(),Fi(),Ai(),gi(),on(yi,{fallback:!0}),Ei.of([{key:"Mod-Enter",run:()=>!0},vi,xi].flat().filter(Boolean))];function js(t){const e=ce.c(7);let r;e[0]!==t?(r=ws(t),e[0]=t,e[1]=r):r=e[1];const u=r;let c;e[2]!==t?(c=on(_s(t)),e[2]=t,e[3]=c):c=e[3];const n=c;let D;return e[4]!==n||e[5]!==u?(D=[u,n],e[4]=n,e[5]=u,e[6]=D):D=e[6],D}function ws(t){const{color:e,fonts:r}=t.sanity,u=e.card.enabled,c=Bu.blue[e.dark?400:500].hex,n=Bu.gray[t.sanity.color.dark?900:100].hex;return Si.theme({"&":{color:u.fg,backgroundColor:u.bg},".cm-content":{caretColor:c},".cm-editor":{fontFamily:r.code.family,fontSize:_e(r.code.sizes[1].fontSize),lineHeight:"inherit"},".cm-cursor, .cm-dropCursor":{borderLeftColor:c},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:n},".cm-panels":{backgroundColor:u.bg,color:u.fg},".cm-panels.cm-panels-top":{borderBottom:`2px solid ${u.border}`},".cm-panels.cm-panels-bottom":{borderTop:`2px solid ${u.border}`}},{dark:e.dark})}function _s(t){const e=t.sanity.color.base,r=t.sanity.color.syntax;return ji.define([{tag:T.keyword,color:r.keyword},{tag:[T.propertyName,T.name,T.deleted,T.character,T.macroName],color:r.property},{tag:[T.function(T.variableName),T.labelName],color:r.function},{tag:[T.color,T.constant(T.name),T.standard(T.name)],color:r.variable},{tag:[T.definition(T.name),T.separator],color:r.constant},{tag:[T.typeName,T.className,T.number,T.changed,T.annotation,T.modifier,T.self,T.namespace],color:r.number},{tag:[T.operator,T.operatorKeyword,T.url,T.escape,T.regexp,T.link,T.special(T.string)],color:r.operator},{tag:[T.meta,T.comment],color:r.comment},{tag:T.strong,fontWeight:"bold"},{tag:T.emphasis,fontStyle:"italic"},{tag:T.strikethrough,textDecoration:"line-through"},{tag:T.heading,fontWeight:"bold",color:r.property},{tag:[T.atom,T.bool,T.special(T.variableName)],color:r.boolean},{tag:[T.processingInstruction,T.string,T.inserted],color:r.string},{tag:T.invalid,color:e.fg}])}const Os=ne.div`
  width: 100%;
  box-sizing: border-box;
  height: 100%;
  overflow: hidden;
  overflow: clip;
  position: relative;
  display: flex;

  & .cm-theme {
    width: 100%;
  }

  & .cm-editor {
    height: 100%;

    font-size: 16px;
    line-height: 21px;
  }

  & .cm-line {
    padding-left: ${({theme:t})=>_e(t.sanity.space[3])};
  }

  & .cm-content {
    border-right-width: ${({theme:t})=>_e(t.sanity.space[4])} !important;
    padding-top: ${({theme:t})=>_e(t.sanity.space[5])};
  }
`,Fu=R.forwardRef((t,e)=>{const r=ce.c(7),[u]=R.useState(t.initialValue),c=$n(),n=js(c),D=R.useRef(null);let a;r[0]===Symbol.for("react.memo_cache_sentinel")?(a=B=>{const E=D.current?.view;if(!E)return;const A=E.state.doc.toString();B!==A&&E.dispatch({changes:{from:0,to:A.length,insert:B},selection:bi.cursor(B.length)})},r[0]=a):a=r[0];const l=a;let C,F;r[1]===Symbol.for("react.memo_cache_sentinel")?(C=()=>({resetEditorContent:l}),F=[l],r[1]=C,r[2]=F):(C=r[1],F=r[2]),R.useImperativeHandle(e,C,F);let h;return r[3]!==u||r[4]!==t.onChange||r[5]!==n?(h=d.jsx(Os,{children:d.jsx(Bi,{ref:D,basicSetup:!1,theme:n,extensions:Ss,value:u,onChange:t.onChange})}),r[3]=u,r[4]=t.onChange,r[5]=n,r[6]=h):h=r[6],h});Fu.displayName="VisionCodeMirror";const mn=["pinnedRelease","raw","published","drafts"],Ps=["pinnedRelease"];function Gr(t){return mn.includes(t)}function Hu(t){return typeof t=="string"&&Ps.includes(t)}function Wu({selectedPerspectiveName:t}){return typeof t<"u"}function Zr({visionPerspective:t,perspectiveStack:e}){return t!=="pinnedRelease"?t:e}function eu(t,e={},r={}){const u=new URLSearchParams;u.set("query",t);for(const[c,n]of Object.entries(e))u.set(`$${c}`,JSON.stringify(n));for(const[c,n]of Object.entries(r))n&&u.set(c,`${n}`);return`?${u}`}function Rs(t){return!!t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"}const Fn=zs(),An="sanityVision:";function Ns(){if(Fn)for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t);e?.startsWith(An)&&localStorage.removeItem(e)}}function Is(t){const e=`${An}${t}`;let r=null;return{get:u,set:c,merge:n};function u(l,C){const F=D();return typeof F[l]>"u"?C:F[l]}function c(l,C){const F=D();return F[l]=C,localStorage.setItem(e,JSON.stringify(r)),C}function n(l){const C={...D(),...l};return localStorage.setItem(e,JSON.stringify(C)),C}function D(){return r===null&&(r=a()),r}function a(){if(!Fn)return{};try{const l=JSON.parse(localStorage.getItem(e)||"{}");return Rs(l)?l:{}}catch{return{}}}}function zs(){const t="lsCheck";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function ks(t){const e={},r={};for(const[u,c]of t.entries()){if(u[0]==="$"){e[u.slice(1)]=JSON.parse(c);continue}if(u==="perspective"){r[u]=c;continue}}return{query:t.get("query")||"",params:e,options:r}}function $s(t){return t[0]!=="v"&&t!=="other"?`v${t}`:t}function tu(t){const e=t.replace(/^v/,"").trim().toUpperCase();return e.length>0&&(e==="X"||e==="1"||/^\d{4}-\d{2}-\d{2}$/.test(e)&&!isNaN(Date.parse(e)))}function Ts(t,e){try{const r=t?es.parse(t):{};return typeof r=="object"&&r&&!Array.isArray(r)?r:{}}catch(r){return r.message=`${e("params.error.params-invalid-json")}:

${r.message.replace("JSON5:","")}`,r}}const gn=ne(ge)`
  .sidebarPanes .Pane {
    overflow-y: auto;
    overflow-x: hidden;
  }

  & .Resizer {
    background: var(--card-border-color);
    opacity: 1;
    z-index: 1;
    box-sizing: border-box;
    background-clip: padding-box;
    border: solid transparent;
  }

  & .Resizer:hover {
    border-color: var(--card-shadow-ambient-color);
  }

  & .Resizer.horizontal {
    height: 11px;
    margin: -5px 0;
    border-width: 5px 0;
    cursor: row-resize;
    width: 100%;
    z-index: 4;
  }

  & .Resizer.vertical {
    width: 11px;
    margin: 0 -5px;
    border-width: 0 5px;
    cursor: col-resize;
    z-index: 2; /* To prevent the resizer from being hidden behind CodeMirror scroll area */
  }

  .Resizer.disabled {
    cursor: not-allowed;
  }

  .Resizer.disabled:hover {
    border-color: transparent;
  }
`;gn.displayName="Root";const Ls=ne(de)`
  border-bottom: 1px solid var(--card-border-color);
`,Te=ne(ui)`
  flex: 1;
`,Ms=ne(ue)`
  position: relative;
`,Vs=ne.a`
  cursor: pointer;
  margin-right: auto;
`,En=ne(ue)`
  position: absolute;
  top: 1rem;
  left: 0;
  padding: 0;
  margin: 0;
  z-index: 10;
  right: 0;

  ${Te} {
    user-select: none;
  }
`,yn=ne(En)`
  // This is so its aligned with the gutters of CodeMirror
  left: 33px;
`,Ku=ne(de)`
  width: 100%;
  height: 100%;
  position: relative;
  flex-direction: column;
`,qs=ne(ge)`
  height: 100%;
`,Js=ne(ue)`
  position: relative;
`,Qs=ne(de)`
  height: 100%;
  width: 100%;
  position: absolute;
  max-width: 100%;

  ${({$isInvalid:t})=>t&&un`
      &:after {
        background-color: var(--card-bg-color);
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        width: 100%;
      }
    `}
`,Us=ne(ue)`
  position: relative;
  width: 100%;
  height: 100%;
  z-index: 20;
`,Hs=ne(ge)`
  border-top: 1px solid var(--card-border-color);
`,Ws=ne(de)`
  position: relative;
`;ne(ue)`
  width: 100%;
  height: 100%;
`;const Ks=ne(ge)`
  height: 100%;
  min-height: ${({theme:t})=>_e(t.sanity.space[3]*2+t.sanity.fonts.text.sizes[2].lineHeight-t.sanity.fonts.text.sizes[2].ascenderHeight-t.sanity.fonts.text.sizes[2].descenderHeight)};
`,Xs=ne(de)`
  position: relative;
`,Ys=ne(Ee)`
  transform: initial;
  &:before,
  &:after {
    content: none;
  }
  > span {
    display: flex !important;
    gap: ${({theme:t})=>_e(t.sanity.space[3])};
    align-items: center;
  }
`,Gs=ne(ue)`
  border-top: 1px solid var(--card-border-color);
`,Zs=`{
  
}`;function ea(t){const e=ce.c(21),{onChange:r,paramsError:u,hasValidParams:c,editorRef:n}=t,{t:D}=Me(Ve);let a;e[0]!==r?(a=p=>{r(p)},e[0]=r,e[1]=a):a=e[1];const l=a;let C;e[2]!==l?(C=kn(l,333),e[2]=l,e[3]=C):C=e[3];const F=C,h=c?"default":"critical";let B;e[4]!==D?(B=D("params.label"),e[4]=D,e[5]=B):B=e[5];let E;e[6]!==B?(E=d.jsx(Te,{muted:!0,children:B}),e[6]=B,e[7]=E):E=e[7];let A;e[8]!==u?(A=u&&d.jsx(Ot,{animate:!0,placement:"top",portal:!0,content:d.jsx(Ee,{size:1,children:u}),children:d.jsx(ue,{padding:1,marginX:2,children:d.jsx(Ee,{children:d.jsx(Tn,{})})})}),e[8]=u,e[9]=A):A=e[9];let i;e[10]!==E||e[11]!==A?(i=d.jsx(yn,{children:d.jsxs(ge,{children:[E,A]})}),e[10]=E,e[11]=A,e[12]=i):i=e[12];const o=t.value||Zs;let s;e[13]!==n||e[14]!==F||e[15]!==o?(s=d.jsx(Fu,{ref:n,initialValue:o,onChange:F}),e[13]=n,e[14]=F,e[15]=o,e[16]=s):s=e[16];let f;return e[17]!==h||e[18]!==i||e[19]!==s?(f=d.jsxs(de,{flex:1,tone:h,"data-testid":"params-editor",children:[i,s]}),e[17]=h,e[18]=i,e[19]=s,e[20]=f):f=e[20],f}function Xu(t,e){const r=Ts(t,e),u=r instanceof Error?{}:r,c=r instanceof Error?r.message:void 0;return{parsed:u,raw:t,valid:!c,error:c}}const ta="studio.vision-tool.saved-queries",ru={queries:[]},dr=ta;function ra(){const t=Zn(),[e,r]=R.useState(ru),[u,c]=R.useState(!1),[n,D]=R.useState([]),[a,l]=R.useState(),[C,F]=R.useState(),[h,B]=R.useState(),E=R.useMemo(()=>t.getKey(dr),[t]);R.useEffect(()=>{const s=E.pipe(ei(ru),en(f=>f||ru)).subscribe({next:r,error:f=>B(f)});return()=>s?.unsubscribe()},[E,t]);const A=R.useCallback(s=>{c(!0),l(void 0);try{const f=[{...s,_key:ti()},...e.queries];r({queries:f}),t.setKey(dr,{queries:f})}catch(f){l(f)}finally{c(!1)}},[t,e.queries]),i=R.useCallback(s=>{c(!0),l(void 0);try{const f=e.queries.map(p=>p._key===s._key?{...p,...s}:p);r({queries:f}),t.setKey(dr,{queries:f})}catch(f){l(f)}finally{c(!1)}},[t,e.queries]),o=R.useCallback(s=>{D(f=>[...f,s]),F(void 0);try{const f=e.queries.filter(p=>p._key!==s);r({queries:f}),t.setKey(dr,{queries:f})}catch(f){F(f)}finally{D(f=>f.filter(p=>p!==s))}},[t,e.queries]);return{queries:e.queries,saveQuery:A,updateQuery:i,deleteQuery:o,saving:u,deleting:n,saveQueryError:a,deleteQueryError:C,error:h}}const ua=ne(Ae)`
  position: sticky;
  top: 0;
  background: ${({theme:t})=>t.sanity.color.base.bg};
  z-index: 1;
`,na=ne(ue)`
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: ${({theme:t})=>t.sanity.color.base.border};
    border-radius: 4px;
  }
`;function ia(t){const e=ce.c(80),{url:r,getStateFromUrl:u,setStateFromParsedUrl:c,currentQuery:n,currentParams:D,generateUrl:a}=t,l=tn(),{saveQuery:C,updateQuery:F,queries:h,deleteQuery:B,saving:E,saveQueryError:A}=ra(),{t:i}=Me(Ve);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0},e[0]=o):o=e[0];const s=Un(o),[f,p]=R.useState(null),[m,w]=R.useState("");let N;e[1]===Symbol.for("react.memo_cache_sentinel")?(N={},e[1]=N):N=e[1];const[J,Y]=R.useState(N),[b,y]=R.useState(""),[j,S]=R.useState(r);let x;e[2]!==D||e[3]!==n||e[4]!==s||e[5]!==a||e[6]!==u||e[7]!==h||e[8]!==C||e[9]!==A||e[10]!==i||e[11]!==l?(x=async()=>{const L=a(n,D);if(h?.some(V=>{const W=u(V.url);return W&&W.query===n&&bt(W.params,D)})){const V=h?.find(W=>{const te=u(W.url);return te&&te.query===n&&bt(te.params,D)});l.push({closable:!0,status:"warning",title:i("save-query.already-saved"),description:`${V?.title} - ${s.format(new Date(V?.savedAt||""))}`});return}L&&(await C({url:L,savedAt:new Date().toISOString(),title:"Untitled"}),S(L)),A?l.push({closable:!0,status:"error",title:i("save-query.error"),description:A.message}):l.push({closable:!0,status:"success",title:i("save-query.success")})},e[2]=D,e[3]=n,e[4]=s,e[5]=a,e[6]=u,e[7]=h,e[8]=C,e[9]=A,e[10]=i,e[11]=l,e[12]=x):x=e[12];const z=x;let k;e[13]!==i||e[14]!==l||e[15]!==F?(k=async(L,V)=>{p(null),Y(W=>({...W,[L._key]:V}));try{await F({...L,title:V}),Y(W=>{const te={...W};return delete te[L._key],te})}catch(W){const te=W;Y(De=>{const pe={...De};return delete pe[L._key],pe}),l.push({closable:!0,status:"error",title:i("save-query.error"),description:te.message})}},e[13]=i,e[14]=l,e[15]=F,e[16]=k):k=e[16];const X=k;let ee;e[17]!==D||e[18]!==n||e[19]!==s||e[20]!==a||e[21]!==u||e[22]!==h||e[23]!==i||e[24]!==l||e[25]!==F?(ee=async L=>{const V=a(n,D);if(h?.some(W=>{if(W._key===L._key)return!1;const te=u(W.url);return te&&te.query===n&&bt(te.params,D)})){const W=h?.find(te=>{if(te._key===L._key)return!1;const De=u(te.url);return De&&De.query===n&&bt(De.params,D)});l.push({closable:!0,status:"warning",title:i("save-query.already-saved"),description:`${W?.title} - ${s.format(new Date(W?.savedAt||""))}`});return}try{await F({...L,url:V,savedAt:new Date().toISOString()}),S(V),l.push({closable:!0,status:"success",title:i("save-query.success")})}catch(W){const te=W;l.push({closable:!0,status:"error",title:i("save-query.error"),description:te.message})}},e[17]=D,e[18]=n,e[19]=s,e[20]=a,e[21]=u,e[22]=h,e[23]=i,e[24]=l,e[25]=F,e[26]=ee):ee=e[26];const Q=ee;let O,H,ae,g,_;if(e[27]!==D||e[28]!==n||e[29]!==B||e[30]!==f||e[31]!==m||e[32]!==s||e[33]!==u||e[34]!==z||e[35]!==X||e[36]!==Q||e[37]!==J||e[38]!==h||e[39]!==E||e[40]!==b||e[41]!==j||e[42]!==c||e[43]!==i){const L=h?.filter(re=>re?.title?.toLowerCase().includes(b.toLowerCase()));H=na;let V;e[49]===Symbol.for("react.memo_cache_sentinel")?(V={textTransform:"capitalize"},e[49]=V):V=e[49];let W;e[50]!==i?(W=i("label.saved-queries"),e[50]=i,e[51]=W):W=e[51];let te;e[52]!==W?(te=d.jsx(Ee,{weight:"semibold",style:V,size:4,children:W}),e[52]=W,e[53]=te):te=e[53];let De;e[54]!==i?(De=i("action.save-query"),e[54]=i,e[55]=De):De=e[55];let pe;e[56]!==z||e[57]!==E||e[58]!==De?(pe=d.jsx(Re,{label:De,icon:ni,disabled:E,onClick:z,mode:"bleed"}),e[56]=z,e[57]=E,e[58]=De,e[59]=pe):pe=e[59];let q;e[60]!==te||e[61]!==pe?(q=d.jsxs(ge,{padding:3,paddingTop:4,paddingBottom:0,justify:"space-between",align:"center",children:[te,pe]}),e[60]=te,e[61]=pe,e[62]=q):q=e[62];let Pe;e[63]!==i?(Pe=i("label.search-queries"),e[63]=i,e[64]=Pe):Pe=e[64];let qe;e[65]===Symbol.for("react.memo_cache_sentinel")?(qe=re=>y(re.currentTarget.value),e[65]=qe):qe=e[65];let xe;e[66]!==b||e[67]!==Pe?(xe=d.jsx(ue,{padding:3,paddingTop:0,children:d.jsx(pr,{placeholder:Pe,icon:ii,value:b,onChange:qe})}),e[66]=b,e[67]=Pe,e[68]=xe):xe=e[68],e[69]!==q||e[70]!==xe?(_=d.jsxs(ua,{space:3,children:[q,xe]}),e[69]=q,e[70]=xe,e[71]=_):_=e[71],O=Ae,ae=3,g=L?.map(re=>{const Je=u(re.url),Ge=j===re.url,Ue=Je&&n===Je.query&&bt(D,Je.params),Ze=Ge&&!Ue;return d.jsx(de,{width:"fill",padding:4,border:!0,tone:Ge?"positive":"default",onClick:()=>{S(re.url);const he=u(re.url);he&&c(he)},style:{position:"relative"},children:d.jsxs(Ae,{space:3,children:[d.jsxs(ge,{justify:"space-between",align:"center",children:[d.jsxs(ge,{align:"center",gap:2,paddingRight:1,children:[f===re._key?d.jsx(pr,{value:m,onChange:he=>w(he.currentTarget.value),onKeyDown:he=>{he.key==="Enter"?X(re,m):he.key==="Escape"&&p(null)},onBlur:()=>X(re,m),autoFocus:!0,style:{maxWidth:"170px",height:"24px"}}):d.jsx(Ee,{weight:"bold",size:3,textOverflow:"ellipsis",style:{maxWidth:"170px",cursor:"pointer",padding:"4px 0"},title:J[re._key]||re.title||re._key.slice(re._key.length-5,re._key.length),onClick:()=>{p(re._key),w(re.title||re._key.slice(0,5))},children:J[re._key]||re.title||re._key.slice(re._key.length-5,re._key.length)}),Ze&&d.jsx(ue,{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"var(--card-focus-ring-color)"}})]}),d.jsx(Hn,{button:d.jsx(Yn,{}),id:`${re._key}-menu`,menu:d.jsx(Wn,{children:d.jsx(Kn,{tone:"critical",padding:3,icon:Xn,text:i("action.delete"),onClick:he=>{he.stopPropagation(),B(re._key)}})}),popover:{portal:!0,placement:"bottom-end",tone:"default"}})]}),d.jsx(Fr,{muted:!0,children:Je?.query.split("{")[0]}),d.jsx(ge,{align:"center",gap:1,children:d.jsx(Ee,{size:1,muted:!0,children:s.format(new Date(re.savedAt||""))})}),Ze&&d.jsx(Re,{mode:"ghost",tone:"default",size:1,padding:2,style:{height:"24px",position:"absolute",right:"16px",bottom:"16px",fontSize:"12px"},text:i("action.update"),onClick:he=>{he.stopPropagation(),Q(re)}})]})},re._key)}),e[27]=D,e[28]=n,e[29]=B,e[30]=f,e[31]=m,e[32]=s,e[33]=u,e[34]=z,e[35]=X,e[36]=Q,e[37]=J,e[38]=h,e[39]=E,e[40]=b,e[41]=j,e[42]=c,e[43]=i,e[44]=O,e[45]=H,e[46]=ae,e[47]=g,e[48]=_}else O=e[44],H=e[45],ae=e[46],g=e[47],_=e[48];let I;e[72]!==O||e[73]!==ae||e[74]!==g?(I=d.jsx(O,{paddingY:ae,children:g}),e[72]=O,e[73]=ae,e[74]=g,e[75]=I):I=e[75];let G;return e[76]!==H||e[77]!==_||e[78]!==I?(G=d.jsxs(H,{children:[_,I]}),e[76]=H,e[77]=_,e[78]=I,e[79]=G):G=e[79],G}function Au(){return typeof window<"u"&&window.innerWidth>600}function vn(t){let e=t;return e||(e=typeof window<"u"&&typeof document<"u"?document.body.getBoundingClientRect().height-60:0),{defaultSize:e/(Au()?2:1),size:e>550?void 0:e*.4,allowResize:e>550,minSize:Math.min(170,Math.max(170,e/2)),maxSize:e>650?e*.7:e*.6}}function sa(t){const e=ce.c(6),{visionRootRef:r}=t,[u,c]=R.useState(oa),[n,D]=R.useState(aa);let a,l;e[0]!==r?(a=()=>{if(!r.current)return;const F=B=>{c(Au());const E=B?.[0];E&&D(vn(E.contentRect.height))},h=new ResizeObserver(F);return h.observe(r.current),()=>{h.disconnect()}},l=[r],e[0]=r,e[1]=a,e[2]=l):(a=e[1],l=e[2]),R.useEffect(a,l);let C;return e[3]!==u||e[4]!==n?(C={paneSizeOptions:n,isNarrowBreakpoint:u},e[3]=u,e[4]=n,e[5]=C):C=e[5],C}function aa(){return vn(void 0)}function oa(){return Au()}function la(t){const e=ce.c(30),{hasValidParams:r,listenInProgress:u,queryInProgress:c,onQueryExecution:n,onListenExecution:D}=t,{t:a}=Me(Ve);let l;e[0]!==a?(l=a("params.error.params-invalid-json"),e[0]=a,e[1]=l):l=e[1];let C;e[2]!==l?(C=d.jsx(de,{radius:4,children:d.jsx(Ee,{size:1,muted:!0,children:l})}),e[2]=l,e[3]=C):C=e[3];let F;e[4]===Symbol.for("react.memo_cache_sentinel")?(F=d.jsx(de,{radius:4,children:d.jsx(Ln,{keys:["Ctrl","Enter"]})}),e[4]=F):F=e[4];const h=c?yu:vu,B=u||!r,E=c?"positive":"primary";let A;e[5]!==c||e[6]!==a?(A=a(c?"action.query-cancel":"action.query-execute"),e[5]=c,e[6]=a,e[7]=A):A=e[7];let i;e[8]!==n||e[9]!==h||e[10]!==B||e[11]!==E||e[12]!==A?(i=d.jsx(ue,{flex:1,children:d.jsx(Ot,{content:F,placement:"top",portal:!0,children:d.jsx(Re,{width:"fill",onClick:n,type:"button",icon:h,disabled:B,tone:E,text:A})})}),e[8]=n,e[9]=h,e[10]=B,e[11]=E,e[12]=A,e[13]=i):i=e[13];const o=u?yu:vu;let s;e[14]!==u||e[15]!==a?(s=a(u?"action.listen-cancel":"action.listen-execute"),e[14]=u,e[15]=a,e[16]=s):s=e[16];const f=!r,p=u?"positive":"default";let m;e[17]!==D||e[18]!==s||e[19]!==f||e[20]!==p||e[21]!==o?(m=d.jsx(ue,{flex:1,marginLeft:3,children:d.jsx(Re,{width:"fill",onClick:D,type:"button",icon:o,text:s,mode:"ghost",disabled:f,tone:p})}),e[17]=D,e[18]=s,e[19]=f,e[20]=p,e[21]=o,e[22]=m):m=e[22];let w;e[23]!==m||e[24]!==i?(w=d.jsxs(ge,{justify:"space-evenly",children:[i,m]}),e[23]=m,e[24]=i,e[25]=w):w=e[25];let N;return e[26]!==r||e[27]!==w||e[28]!==C?(N=d.jsx(Gs,{children:d.jsx(de,{padding:3,paddingX:3,children:d.jsx(Ot,{content:C,placement:"top",disabled:r,portal:!0,children:w})})}),e[26]=r,e[27]=w,e[28]=C,e[29]=N):N=e[29],N}const ca=ne(ue)`
  /* This limits the width of the popover content */
  max-width: 240px;
`,da=ne.a`
  cursor: pointer;
  margin-right: auto;
`,Da=ne.div`
  width: 4px;
  height: 4px;
  border-radius: 3px;
  box-shadow: 0 0 0 1px var(--card-bg-color);
  background-color: ${({$tone:t})=>`var(--card-badge-${t}-dot-color)`};
`;function fa(){const t=ce.c(39),[e,r]=R.useState(!1),u=R.useRef(null),c=R.useRef(null);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>r(pa),t[0]=n):n=t[0];const D=n,{t:a}=Me(Ve);let l,C;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=()=>r(!1),C=()=>[u.current,c.current],t[1]=l,t[2]=C):(l=t[1],C=t[2]),ai(l,C);let F;t[3]!==a?(F=a("settings.perspectives.title"),t[3]=a,t[4]=F):F=t[4];let h;t[5]!==F?(h=d.jsx(nn,{space:2,children:d.jsx(Ee,{weight:"medium",children:F})}),t[5]=F,t[6]=h):h=t[6];let B;t[7]!==a?(B=a("settings.perspectives.description"),t[7]=a,t[8]=B):B=t[8];let E;t[9]!==B?(E=d.jsx(de,{children:d.jsx(Ee,{muted:!0,children:B})}),t[9]=B,t[10]=E):E=t[10];let A;t[11]!==a?(A=a("label.new"),t[11]=a,t[12]=A):A=t[12];let i;t[13]!==A?(i=d.jsx(ue,{children:d.jsx(li,{tone:"primary",children:A})}),t[13]=A,t[14]=i):i=t[14];let o;t[15]!==a?(o=d.jsx(Ee,{muted:!0,children:d.jsx(sn,{t:a,i18nKey:"settings.perspective.preview-drafts-renamed-to-drafts.description"})}),t[15]=a,t[16]=o):o=t[16];let s;t[17]!==i||t[18]!==o?(s=d.jsx(de,{children:d.jsxs(Ae,{space:2,children:[i,o]})}),t[17]=i,t[18]=o,t[19]=s):s=t[19];let f;t[20]!==a?(f=null,t[20]=a,t[21]=f):f=t[21];let p;t[22]!==a?(p=a("settings.perspectives.action.docs-link"),t[22]=a,t[23]=p):p=t[23];let m;t[24]!==p?(m=d.jsx(de,{children:d.jsx(Ee,{children:d.jsxs(da,{href:"https://sanity.io/docs/perspectives",target:"_blank",children:[p," →"]})})}),t[24]=p,t[25]=m):m=t[25];let w;t[26]!==s||t[27]!==f||t[28]!==m||t[29]!==h||t[30]!==E?(w=d.jsx(ca,{children:d.jsxs(Ae,{space:4,children:[h,E,s,f,m]})}),t[26]=s,t[27]=f,t[28]=m,t[29]=h,t[30]=E,t[31]=w):w=t[31];let N;t[32]===Symbol.for("react.memo_cache_sentinel")?(N=d.jsx(Da,{$tone:"primary"}),t[32]=N):N=t[32];let J;t[33]!==e?(J=d.jsx(Re,{icon:ci,mode:"bleed",padding:2,paddingRight:1,tone:"primary",fontSize:1,ref:u,onClick:D,selected:e,children:N}),t[33]=e,t[34]=J):J=t[34];let Y;return t[35]!==e||t[36]!==w||t[37]!==J?(Y=d.jsx(oi,{content:w,placement:"bottom-start",portal:!0,padding:3,ref:c,open:e,children:J}),t[35]=e,t[36]=w,t[37]=J,t[38]=Y):Y=t[38],Y}function pa(t){return!t}const ha=t=>{const e=ce.c(9),{pinnedPerspective:r,t:u}=t,c=typeof r.selectedPerspective=="object"?r.selectedPerspective.metadata.title:r.selectedPerspectiveName;let n;e[0]!==r||e[1]!==u?(n=Wu(r)?`(${u("settings.perspectives.pinned-release-label")})`:u("settings.perspectives.pinned-release-label"),e[0]=r,e[1]=u,e[2]=n):n=e[2];const D=n;let a;e[3]!==D||e[4]!==c?(a=[c,D].filter(Aa),e[3]=D,e[4]=c,e[5]=a):a=e[5];const l=a.join(" "),C=!Wu(r);let F;return e[6]!==C||e[7]!==l?(F=d.jsx("option",{value:"pinnedRelease",disabled:C,children:l}),e[6]=C,e[7]=l,e[8]=F):F=e[8],F};function Ca(t){const e=ce.c(64),{onChangeDataset:r,dataset:u,customApiVersion:c,apiVersion:n,onChangeApiVersion:D,datasets:a,customApiVersionElementRef:l,onCustomApiVersionChange:C,isValidApiVersion:F,onChangePerspective:h,url:B,perspective:E}=t,A=rn(),{t:i}=Me(Ve),o=R.useRef(null);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{const W=o.current;if(W)try{W.select(),document.execCommand("copy")}catch{console.error("Unable to copy to clipboard :(")}},e[0]=s):s=e[0];const f=s;let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=[1,4,8,12],e[1]=p):p=e[1];let m;e[2]!==i?(m=i("settings.dataset-label"),e[2]=i,e[3]=m):m=e[3];let w;e[4]!==m?(w=d.jsx(de,{paddingTop:2,paddingBottom:3,children:d.jsx(Te,{children:m})}),e[4]=m,e[5]=w):w=e[5];let N;e[6]!==a?(N=a.map(Fa),e[6]=a,e[7]=N):N=e[7];let J;e[8]!==u||e[9]!==r||e[10]!==N?(J=d.jsx(Mr,{value:u,onChange:r,children:N}),e[8]=u,e[9]=r,e[10]=N,e[11]=J):J=e[11];let Y;e[12]!==w||e[13]!==J?(Y=d.jsx(ue,{padding:1,column:2,children:d.jsxs(Ae,{children:[w,J]})}),e[12]=w,e[13]=J,e[14]=Y):Y=e[14];let b;e[15]!==i?(b=i("settings.api-version-label"),e[15]=i,e[16]=b):b=e[16];let y;e[17]!==b?(y=d.jsx(de,{paddingTop:2,paddingBottom:3,children:d.jsx(Te,{children:b})}),e[17]=b,e[18]=y):y=e[18];const j=c===!1?n:"other";let S;e[19]===Symbol.for("react.memo_cache_sentinel")?(S=_t.map(ma),e[19]=S):S=e[19];let x;e[20]!==i?(x=i("settings.other-api-version-label"),e[20]=i,e[21]=x):x=e[21];let z;e[22]!==x?(z=d.jsx("option",{value:"other",children:x},"other"),e[22]=x,e[23]=z):z=e[23];let k;e[24]!==D||e[25]!==j||e[26]!==z?(k=d.jsxs(Mr,{"data-testid":"api-version-selector",value:j,onChange:D,children:[S,z]}),e[24]=D,e[25]=j,e[26]=z,e[27]=k):k=e[27];let X;e[28]!==k||e[29]!==y?(X=d.jsx(ue,{padding:1,column:2,children:d.jsxs(Ae,{children:[y,k]})}),e[28]=k,e[29]=y,e[30]=X):X=e[30];let ee;e[31]!==c||e[32]!==l||e[33]!==F||e[34]!==C||e[35]!==i?(ee=c!==!1&&d.jsx(ue,{padding:1,column:2,children:d.jsxs(Ae,{children:[d.jsx(de,{paddingTop:2,paddingBottom:3,children:d.jsx(Te,{textOverflow:"ellipsis",children:i("settings.custom-api-version-label")})}),d.jsx(pr,{ref:l,value:c,onChange:C,customValidity:F?void 0:i("settings.error.invalid-api-version"),maxLength:11})]})}),e[31]=c,e[32]=l,e[33]=F,e[34]=C,e[35]=i,e[36]=ee):ee=e[36];let Q;e[37]!==i?(Q=i("settings.perspective-label"),e[37]=i,e[38]=Q):Q=e[38];let O;e[39]!==Q?(O=d.jsx(ue,{children:d.jsx(Te,{children:Q})}),e[39]=Q,e[40]=O):O=e[40];let H;e[41]===Symbol.for("react.memo_cache_sentinel")?(H=d.jsx(ue,{children:d.jsx(fa,{})}),e[41]=H):H=e[41];let ae;e[42]!==O?(ae=d.jsx(de,{paddingBottom:1,children:d.jsxs(nn,{space:1,children:[O,H]})}),e[42]=O,e[43]=ae):ae=e[43];const g=E||"default";let _;e[44]!==A||e[45]!==i?(_=mn.map(W=>W==="pinnedRelease"?d.jsxs(R.Fragment,{children:[d.jsx(ha,{pinnedPerspective:A,t:i}),d.jsx("option",{value:"default",children:i("settings.perspectives.default")},"default"),d.jsx("hr",{})]},"pinnedRelease"):d.jsx("option",{children:W},W)),e[44]=A,e[45]=i,e[46]=_):_=e[46];let I;e[47]!==h||e[48]!==g||e[49]!==_?(I=d.jsx(Mr,{value:g,onChange:h,children:_}),e[47]=h,e[48]=g,e[49]=_,e[50]=I):I=e[50];let G;e[51]!==ae||e[52]!==I?(G=d.jsx(ue,{padding:1,column:2,children:d.jsxs(Ae,{children:[ae,I]})}),e[51]=ae,e[52]=I,e[53]=G):G=e[53];let L;e[54]!==c||e[55]!==i||e[56]!==B?(L=typeof B=="string"?d.jsx(ue,{padding:1,flex:1,column:c===!1?6:4,children:d.jsxs(Ae,{children:[d.jsx(de,{paddingTop:2,paddingBottom:3,children:d.jsxs(Te,{children:[i("query.url")," ",d.jsxs(Vs,{onClick:f,children:["[",i("action.copy-url-to-clipboard"),"]"]})]})}),d.jsxs(ge,{flex:1,gap:1,children:[d.jsx(ue,{flex:1,children:d.jsx(pr,{readOnly:!0,type:"url",ref:o,value:B})}),d.jsx(Ot,{content:i("action.copy-url-to-clipboard"),children:d.jsx(Re,{"aria-label":i("action.copy-url-to-clipboard"),type:"button",mode:"ghost",icon:Jn,onClick:f})})]})]})}):d.jsx(ue,{flex:1}),e[54]=c,e[55]=i,e[56]=B,e[57]=L):L=e[57];let V;return e[58]!==X||e[59]!==ee||e[60]!==G||e[61]!==L||e[62]!==Y?(V=d.jsx(Ls,{paddingX:3,paddingY:2,children:d.jsxs(Qn,{columns:p,children:[Y,X,ee,G,L]})}),e[58]=X,e[59]=ee,e[60]=G,e[61]=L,e[62]=Y,e[63]=V):V=e[63],V}function ma(t){return d.jsx("option",{children:t},t)}function Fa(t){return d.jsx("option",{children:t},t)}function Aa(t){return typeof t<"u"}function ga(t,e){return URL.createObjectURL(new Blob([t],{type:e}))}function xn(t,e){return(()=>{let r="",u="";return c=>{const n=e(c);if(!(typeof n!="string"||n===""))return n===u||(u=n,r&&URL.revokeObjectURL(r),r=ga(n,t)),r}})()}const Ea=xn("application/json",t=>JSON.stringify(t,null,2)),ya=xn("text/csv",t=>as.json2csv(Array.isArray(t)?t:[t]).trim()),cu=ne(Fr)`
  color: ${({theme:t})=>t.sanity.color.muted.critical.enabled.fg};
`;function va(t){const e=ce.c(7),{error:r}=t,{t:u}=Me(Ve);if(!("details"in r))return null;const c={...r.details,...xa(r.details)};if(!c.line)return null;const n=`${c.line}
${Ba(c.column,c.columnEnd)}`;let D;e[0]!==n?(D=d.jsx(cu,{size:1,children:n}),e[0]=n,e[1]=D):D=e[1];const a=`${u("query.error.line")}:   ${c.lineNumber}
${u("query.error.column")}: ${c.column}`;let l;e[2]!==a?(l=d.jsx(ue,{marginTop:4,children:d.jsx(cu,{size:1,children:a})}),e[2]=a,e[3]=l):l=e[3];let C;return e[4]!==D||e[5]!==l?(C=d.jsxs("div",{children:[D,l]}),e[4]=D,e[5]=l,e[6]=C):C=e[6],C}function xa(t){if(!t||typeof t.query!="string"||typeof t.start!="number")return{};const{query:e,start:r,end:u}=t,c=e.slice(0,r).lastIndexOf(`
`)+1,n=(e.slice(0,c).match(/\n/g)||[]).length,D=e.slice(c,e.indexOf(`
`,c)),a=r-c,l=typeof u=="number"?u-c:void 0;return{line:D,lineNumber:n,column:a,columnEnd:l}}function Ba(t,e){const r="-".repeat(t),u="^".repeat(e?e-t:1);return`${r}${u}`}function ba(t){const e=ce.c(7);let r;e[0]!==t.error.message?(r=d.jsx(cu,{size:1,children:t.error.message}),e[0]=t.error.message,e[1]=r):r=e[1];let u;e[2]!==t.error?(u=d.jsx(va,{error:t.error}),e[2]=t.error,e[3]=u):u=e[3];let c;return e[4]!==r||e[5]!==u?(c=d.jsxs(Ae,{space:5,marginTop:2,children:[r,u]}),e[4]=r,e[5]=u,e[6]=c):c=e[6],c}const Sa=ne.div(({theme:t})=>{const{color:e,fonts:r,space:u}=t.sanity;return un`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: ${r.code.family};
      font-size: ${r.code.sizes[2].fontSize}px;
      line-height: ${r.code.sizes[2].lineHeight}px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: ${_e(u[4])};
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: ${_e(u[0])};
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0px - ${_e(u[4])});
      font-size: ${r.code.sizes[2].fontSize}px;
      line-height: ${r.code.sizes[2].lineHeight}px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: ${r.code.sizes[2].fontSize}px;
      line-height: ${r.code.sizes[2].lineHeight}px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: ${_e(u[4]/2)};
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: ${e.syntax.property};
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: ${e.syntax.constant};
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: ${_e(u[2])};
    }

    & .json-inspector .json-inspector__value_string {
      color: ${e.syntax.string};
      word-break: break-word;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: ${e.syntax.boolean};
    }

    & .json-inspector .json-inspector__value_number {
      color: ${e.syntax.number};
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `}),du=new Mn({maxSize:5e4});function Yu(t){const e=ce.c(7),{data:r,datasetName:u}=t,c=Gn();if(Bn(r)||Array.isArray(r)){const a=c===u?ja:void 0;let l;return e[0]!==r||e[1]!==a?(l=d.jsx(Sa,{children:d.jsx(bs,{data:r,search:!1,isExpanded:wa,onClick:_a,interactiveLabel:a})}),e[0]=r,e[1]=a,e[2]=l):l=e[2],l}let n;e[3]!==r?(n=JSON.stringify(r),e[3]=r,e[4]=n):n=e[4];let D;return e[5]!==n?(D=d.jsx(Fr,{language:"json",children:n}),e[5]=n,e[6]=D):D=e[6],D}function ja(t){const e=ce.c(5);if(t.isKey||!t.keypath.endsWith("_id")&&!t.keypath.endsWith("_ref"))return null;let r;e[0]!==t.value?(r={id:t.value},e[0]=t.value,e[1]=r):r=e[1];let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=d.jsx(si,{}),e[2]=u):u=e[2];let c;return e[3]!==r?(c=d.jsx(ri,{intent:"edit",params:r,children:u}),e[3]=r,e[4]=c):c=e[4],c}function wa(t,e){const r=du.get(t);if(typeof r=="boolean")return r;const u=t.split(".",4);return u.length===4?!1:Array.isArray(e)?!0:Bn(e)&&!u.some(c=>Pa(c))}function _a(t){const{path:e}=t,r=du.get(e);r!==void 0&&du.set(e,!r)}function Bn(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}const Oa=/^\d+$/;function Pa(t,e=10){return Oa.test(t)&&parseInt(t,10)>e}function Ra(t){return t.preventDefault()}function Na(t){const e=ce.c(9),{blobUrl:r}=t,{t:u}=Me(Ve),c=!r,n=c?void 0:"query-result.csv",D=c?Ra:void 0;let a;e[0]!==r||e[1]!==c||e[2]!==n||e[3]!==D?(a=d.jsx(Re,{as:"a",disabled:c,download:n,href:r,icon:an,mode:"ghost",onClick:D,text:"CSV",tone:"default"}),e[0]=r,e[1]=c,e[2]=n,e[3]=D,e[4]=a):a=e[4];const l=a;let C;return e[5]!==l||e[6]!==c||e[7]!==u?(C=c?d.jsx(Ot,{content:u("result.save-result-as-csv.not-csv-encodable"),placement:"top",children:l}):l,e[5]=l,e[6]=c,e[7]=u,e[8]=C):C=e[8],C}function Ia(t){const e=ce.c(2),{blobUrl:r}=t;let u;return e[0]!==r?(u=d.jsx(Re,{as:"a",download:"query-result.json",href:r,icon:an,mode:"ghost",text:"JSON",tone:"default"}),e[0]=r,e[1]=u):u=e[1],u}function za(t){const e=ce.c(67),{error:r,queryInProgress:u,queryResult:c,listenInProgress:n,listenMutations:D,dataset:a,queryTime:l,e2eTime:C}=t,{t:F}=Me(Ve),h=!r&&!u&&typeof c<"u";let B;e[0]!==h||e[1]!==c?(B=h?Ea(c):"",e[0]=h,e[1]=c,e[2]=B):B=e[2];const E=B;let A;e[3]!==h||e[4]!==c?(A=h?ya(c):"",e[3]=h,e[4]=c,e[5]=A):A=e[5];const i=A,o=r?"critical":"default",s=!!r;let f;e[6]!==F?(f=F("result.label"),e[6]=F,e[7]=f):f=e[7];let p;e[8]!==f?(p=d.jsx(En,{children:d.jsx(ue,{marginLeft:3,children:d.jsx(Te,{muted:!0,children:f})})}),e[8]=f,e[9]=p):p=e[9];let m;e[10]!==n||e[11]!==D||e[12]!==u?(m=(u||n&&D.length===0)&&d.jsx(ue,{marginTop:3,children:d.jsx(Cn,{})}),e[10]=n,e[11]=D,e[12]=u,e[13]=m):m=e[13];let w;e[14]!==r?(w=r&&d.jsx(ba,{error:r}),e[14]=r,e[15]=w):w=e[15];let N;e[16]!==a||e[17]!==h||e[18]!==c?(N=h&&d.jsx(Yu,{data:c,datasetName:a}),e[16]=a,e[17]=h,e[18]=c,e[19]=N):N=e[19];let J;e[20]!==a||e[21]!==n||e[22]!==D?(J=n&&D.length>0&&d.jsx(Yu,{data:D,datasetName:a}),e[20]=a,e[21]=n,e[22]=D,e[23]=J):J=e[23];let Y;e[24]!==J||e[25]!==m||e[26]!==w||e[27]!==N?(Y=d.jsxs(ue,{padding:3,paddingTop:5,children:[m,w,N,J]}),e[24]=J,e[25]=m,e[26]=w,e[27]=N,e[28]=Y):Y=e[28];let b;e[29]!==Y||e[30]!==p?(b=d.jsxs(Us,{overflow:"auto",children:[p,Y]}),e[29]=Y,e[30]=p,e[31]=b):b=e[31];let y;e[32]!==b||e[33]!==o||e[34]!==s?(y=d.jsx(Js,{flex:1,children:d.jsx(Qs,{flex:1,overflow:"hidden",tone:o,$isInvalid:s,children:b})}),e[32]=b,e[33]=o,e[34]=s,e[35]=y):y=e[35];let j;e[36]===Symbol.for("react.memo_cache_sentinel")?(j=["column","column","row"],e[36]=j):j=e[36];let S;e[37]!==F?(S=F("result.execution-time-label"),e[37]=F,e[38]=S):S=e[38];let x;e[39]!==l||e[40]!==F?(x=typeof l=="number"?`${l}ms`:F("result.timing-not-applicable"),e[39]=l,e[40]=F,e[41]=x):x=e[41];let z;e[42]!==S||e[43]!==x?(z=d.jsx(ue,{children:d.jsxs(Ee,{muted:!0,children:[S,":"," ",x]})}),e[42]=S,e[43]=x,e[44]=z):z=e[44];let k;e[45]!==F?(k=F("result.end-to-end-time-label"),e[45]=F,e[46]=k):k=e[46];let X;e[47]!==C||e[48]!==F?(X=typeof C=="number"?`${C}ms`:F("result.timing-not-applicable"),e[47]=C,e[48]=F,e[49]=X):X=e[49];let ee;e[50]!==k||e[51]!==X?(ee=d.jsx(ue,{marginLeft:4,children:d.jsxs(Ee,{muted:!0,children:[k,":"," ",X]})}),e[50]=k,e[51]=X,e[52]=ee):ee=e[52];let Q;e[53]!==z||e[54]!==ee?(Q=d.jsx(Ws,{paddingX:4,paddingY:3,sizing:"border",children:d.jsxs(Ks,{align:"center",children:[z,ee]})}),e[53]=z,e[54]=ee,e[55]=Q):Q=e[55];let O;e[56]!==i||e[57]!==h||e[58]!==E||e[59]!==F?(O=h&&d.jsx(Xs,{paddingX:4,paddingY:3,sizing:"border",children:d.jsx(Ys,{muted:!0,children:d.jsx(sn,{components:{SaveResultButtons:()=>d.jsxs(d.Fragment,{children:[d.jsx(Ia,{blobUrl:E}),d.jsx(Na,{blobUrl:i})]})},i18nKey:"result.save-result-as-format",t:F})})}),e[56]=i,e[57]=h,e[58]=E,e[59]=F,e[60]=O):O=e[60];let H;e[61]!==Q||e[62]!==O?(H=d.jsxs(Hs,{justify:"space-between",direction:j,children:[Q,O]}),e[61]=Q,e[62]=O,e[63]=H):H=e[63];let ae;return e[64]!==y||e[65]!==H?(ae=d.jsxs(qs,{direction:"column","data-testid":"vision-result",children:[y,H]}),e[64]=y,e[65]=H,e[66]=ae):ae=e[66],ae}function ka(t,e){return!t||!e?!1:t===e||!!(t.compareDocumentPosition(e)&16)}const $a=/\.(?:api|apicdn)\.sanity\.(?:io|work)\/(vX|v1|v\d{4}-\d\d-\d\d)\/.*?(?:query|listen)\/(.*?)\?(.*)/,Ta=t=>xu("ctrl+enter",t)||xu("mod+enter",t);function La(t){const e=ce.c(199),{datasets:r,config:u,projectId:c,defaultDataset:n}=t,D=tn(),{t:a}=Me(Ve),{perspectiveStack:l}=rn(),C=R.useRef(null),F=R.useRef(null),h=R.useRef(null),B=R.useRef(null),E=R.useRef(void 0),A=R.useRef(void 0);let i;e[0]!==c?(i=()=>Is(c||"default"),e[0]=c,e[1]=i):i=e[1];const[o]=R.useState(i);let s;e[2]!==n||e[3]!==o?(s=o.get("dataset",n),e[2]=n,e[3]=o,e[4]=s):s=e[4];const f=s;let p;e[5]!==u.defaultApiVersion||e[6]!==o?(p=o.get("apiVersion",$s(`${u.defaultApiVersion}`)),e[5]=u.defaultApiVersion,e[6]=o,e[7]=p):p=e[7];const m=p;let w;e[8]!==o?(w=o.get("query",""),e[8]=o,e[9]=w):w=e[9];const N=w;let J;e[10]!==o?(J=o.get("params",`{
  
}`),e[10]=o,e[11]=J):J=e[11];const Y=J;let b;e[12]!==o?(b=o.get("perspective",void 0),e[12]=o,e[13]=b):b=e[13];const y=b;let j;e[14]!==r||e[15]!==n||e[16]!==f?(j=()=>r.includes(f)?f:r.includes(n)?n:r[0],e[14]=r,e[15]=n,e[16]=f,e[17]=j):j=e[17];const[S,x]=R.useState(j);let z;e[18]!==m?(z=()=>_t.includes(m)?m:hn,e[18]=m,e[19]=z):z=e[19];const[k,X]=R.useState(z);let ee;e[20]!==m?(ee=()=>_t.includes(m)?!1:m,e[20]=m,e[21]=ee):ee=e[21];const[Q,O]=R.useState(ee),[H,ae]=R.useState(y||"raw");let g;e[22]!==Q?(g=Q?tu(Q):!0,e[22]=Q,e[23]=g):g=e[23];const _=g,[I,G]=R.useState(void 0);let L;e[24]!==N?(L=()=>typeof N=="string"?N:"",e[24]=N,e[25]=L):L=e[25];const[V,W]=R.useState(L),[te,De]=R.useState(Y);let pe;e[26]!==te||e[27]!==a?(pe=Xu(te,a),e[26]=te,e[27]=a,e[28]=pe):pe=e[28];const q=pe,[Pe,qe]=R.useState(void 0);let xe;e[29]===Symbol.for("react.memo_cache_sentinel")?(xe=[],e[29]=xe):xe=e[29];const[re,Je]=R.useState(xe),[Ge,Ue]=R.useState(void 0),[Ze,he]=R.useState(void 0),[Er,yr]=R.useState(void 0),[Ne,yt]=R.useState(!1),[Ie,Pt]=R.useState(!1),[He,bn]=R.useState(!1);let Rt;e[30]===Symbol.for("react.memo_cache_sentinel")?(Rt={visionRootRef:h},e[30]=Rt):Rt=e[30];const{paneSizeOptions:ye,isNarrowBreakpoint:vr}=sa(Rt),xr=_&&Q?Q:k;let Nt;e[31]!==xr?(Nt={apiVersion:xr},e[31]=xr,e[32]=Nt):Nt=e[32];const Br=Du(Nt);let It;e[33]!==Br||e[34]!==k||e[35]!==Q||e[36]!==S||e[37]!==_||e[38]!==H||e[39]!==l?(It=Br.withConfig({apiVersion:_&&Q?Q:k,perspective:Zr({visionPerspective:H,perspectiveStack:l}),dataset:S,allowReconfigure:!0}),e[33]=Br,e[34]=k,e[35]=Q,e[36]=S,e[37]=_,e[38]=H,e[39]=l,e[40]=It):It=e[40];const Be=It;let zt;e[41]===Symbol.for("react.memo_cache_sentinel")?(zt=()=>{E.current&&(E.current.unsubscribe(),E.current=void 0)},e[41]=zt):zt=e[41];const kt=zt;let $t;e[42]===Symbol.for("react.memo_cache_sentinel")?($t=()=>{A.current&&(A.current.unsubscribe(),A.current=void 0)},e[42]=$t):$t=e[42];const vt=$t;let Tt;e[43]!==k||e[44]!==Be||e[45]!==Q||e[46]!==S||e[47]!==_||e[48]!==o||e[49]!==q.parsed||e[50]!==H||e[51]!==l||e[52]!==V||e[53]!==Ne||e[54]!==a?(Tt=P=>{if(Ne){kt(),vt(),yt(!1);return}const $={query:P?.query||V,dataset:P?.dataset||S,params:Xu(JSON.stringify(P?.params||q.parsed,null,2),a),perspective:Zr({visionPerspective:P?.perspective||H,perspectiveStack:l}),apiVersion:P?.apiVersion||(Q&&_?Q:k)};if(o.set("query",$.query),o.set("params",$.params.raw),vt(),yt(!$.params.error&&!!$.query),Pt(!1),Je([]),Ue($.params.error?new Error($.params.error):void 0),qe(void 0),he(void 0),yr(void 0),$.params.error)return;const Fe={perspective:$.perspective??[]},Et=Be.withConfig({apiVersion:$.apiVersion,dataset:$.dataset,perspective:$.perspective}),$r=Et.getUrl(Et.getDataUrl("query",eu($.query,$.params.parsed,Fe)));G($r);const Tr=Date.now();E.current=Et.observable.fetch($.query,$.params.parsed,{filterResponse:!1,tag:"vision"}).subscribe({next:me=>{he(me.ms),yr(Date.now()-Tr),qe(me.result),yt(!1),Ue(void 0)},error:me=>{Ue(me),yt(!1)}})},e[43]=k,e[44]=Be,e[45]=Q,e[46]=S,e[47]=_,e[48]=o,e[49]=q.parsed,e[50]=H,e[51]=l,e[52]=V,e[53]=Ne,e[54]=a,e[55]=Tt):Tt=e[55];const oe=Tt;let Lt;e[56]!==oe||e[57]!==o?(Lt=P=>{P!==void 0&&!Gr(P)||(ae(P),o.set("perspective",P),oe({perspective:P}))},e[56]=oe,e[57]=o,e[58]=Lt):Lt=e[58];const et=Lt;let Mt;e[59]!==oe||e[60]!==o?(Mt=P=>{const $=P.target.value;o.set("dataset",$),x($),oe({dataset:$})},e[59]=oe,e[60]=o,e[61]=Mt):Mt=e[61];const br=Mt;let Vt;e[62]!==oe||e[63]!==o?(Vt=P=>{const $=P.target.value;if($?.toLowerCase()==="other"){O("v"),B.current?.focus();return}X($),O(!1),o.set("apiVersion",$),oe({apiVersion:$})},e[62]=oe,e[63]=o,e[64]=Vt):Vt=e[64];const Sr=Vt;let qt;e[65]!==oe||e[66]!==o?(qt=P=>{const $=P.target.value||"";O($||"v"),tu($)&&(X($),o.set("apiVersion",$),oe({apiVersion:$}))},e[65]=oe,e[66]=o,e[67]=qt):qt=e[67];const jr=qt;let Jt;e[68]!==et?(Jt=P=>{const $=P.target.value;et($==="default"?void 0:$)},e[68]=et,e[69]=Jt):Jt=e[69];const wr=Jt;let Qt;e[70]===Symbol.for("react.memo_cache_sentinel")?(Qt=P=>{P.type==="mutation"&&Je($=>$.length===50?[P,...$.slice(0,49)]:[P,...$])},e[70]=Qt):Qt=e[70];const Sn=Qt;let Ut;e[71]!==Be||e[72]!==Ie||e[73]!==o||e[74]!==q.error||e[75]!==q.parsed||e[76]!==q.raw||e[77]!==V?(Ut=()=>{if(Ie){vt(),Pt(!1);return}const P=Be.getDataUrl("listen",eu(V,q.parsed,{})),$=!q.error&&V.trim().length>0;o.set("query",V),o.set("params",q.raw),kt(),G(P),Je([]),yt(!1),qe(void 0),Pt($),Ue(q.error?new Error(q.error):void 0),he(void 0),yr(void 0),$&&(A.current=Be.listen(V,q.parsed,{events:["mutation","welcome"],includeAllVersions:!0}).subscribe({next:Sn,error:Fe=>{Ue(Fe),Pt(!1)}}))},e[71]=Be,e[72]=Ie,e[73]=o,e[74]=q.error,e[75]=q.parsed,e[76]=q.raw,e[77]=V,e[78]=Ut):Ut=e[78];const _r=Ut;let Ht;e[79]!==o?(Ht=P=>{De(P),o.set("params",P)},e[79]=o,e[80]=Ht):Ht=e[80];const Or=Ht;let Wt;e[81]!==k||e[82]!==S||e[83]!==r||e[84]!==H||e[85]!==D?(Wt=P=>{const $=P.match($a);if(!$)return null;const[,Fe,Et,$r]=$,Tr=new URLSearchParams($r),me=ks(Tr);if(!me)return null;let gu,Lr;tu(Fe)&&(_t.includes(Fe)?(gu=Fe,Lr=!1):Lr=Fe);const Eu=Gr(me.options.perspective)&&!Hu(me.options.perspective)?me.options.perspective:void 0;return Eu&&(!Gr(me.options.perspective)||Hu(me.options.perspective))&&D.push({closable:!0,id:"vision-paste-unsupported-perspective",status:"warning",title:'Perspective in pasted url is currently not supported. Falling back to "raw"'}),{query:me.query,params:me.params,rawParams:JSON.stringify(me.params,null,2),dataset:r.includes(Et)?Et:S,apiVersion:gu||k,customApiVersion:Lr,perspective:Eu||H,url:P}},e[81]=k,e[82]=S,e[83]=r,e[84]=H,e[85]=D,e[86]=Wt):Wt=e[86];const tt=Wt;let Kt;e[87]!==oe||e[88]!==o?(Kt=P=>{x(P.dataset),W(P.query),De(P.rawParams),X(P.apiVersion),P.customApiVersion&&O(P.customApiVersion),ae(P.perspective),G(P.url),C.current?.resetEditorContent(P.query),F.current?.resetEditorContent(P.rawParams),o.merge({query:P.query,params:P.rawParams,dataset:P.dataset,apiVersion:P.customApiVersion||P.apiVersion,perspective:P.perspective}),oe(P)},e[87]=oe,e[88]=o,e[89]=Kt):Kt=e[89];const rt=Kt;let Xt;e[90]!==tt||e[91]!==rt||e[92]!==D?(Xt=P=>{if(!P.clipboardData)return;const $=P.clipboardData.getData("text/plain");P.preventDefault();const Fe=tt($);Fe&&(rt(Fe),D.push({closable:!0,id:"vision-paste",status:"info",title:"Parsed URL to query"}))},e[90]=tt,e[91]=rt,e[92]=D,e[93]=Xt):Xt=e[93];const xt=Xt;let Yt;e[94]!==oe||e[95]!==q.valid?(Yt=P=>{const $=h.current&&ka(h.current,P.target);Ta(P)&&$&&q.valid&&(oe(),P.preventDefault(),P.stopPropagation())},e[94]=oe,e[95]=q.valid,e[96]=Yt):Yt=e[96];const Bt=Yt;let Gt,Zt;e[97]!==Bt||e[98]!==xt?(Gt=()=>(window.document.addEventListener("paste",xt),window.document.addEventListener("keydown",Bt),()=>{window.document.removeEventListener("paste",xt),window.document.removeEventListener("keydown",Bt)}),Zt=[Bt,xt],e[97]=Bt,e[98]=xt,e[99]=Gt,e[100]=Zt):(Gt=e[99],Zt=e[100]),R.useEffect(Gt,Zt);let er,tr;e[101]===Symbol.for("react.memo_cache_sentinel")?(er=()=>()=>{kt(),vt()},tr=[kt,vt],e[101]=er,e[102]=tr):(er=e[101],tr=e[102]),R.useEffect(er,tr);let rr;e[103]!==et?(rr=P=>{P.length>0&&et("pinnedRelease")},e[103]=et,e[104]=rr):rr=e[104];const Pr=zn(rr);let ur;e[105]!==Pr||e[106]!==l?(ur=()=>{Pr(l)},e[105]=Pr,e[106]=l,e[107]=ur):ur=e[107];let nr;e[108]!==l?(nr=[l],e[108]=l,e[109]=nr):nr=e[109],R.useEffect(ur,nr);let ir;e[110]!==Be||e[111]!==H||e[112]!==l?(ir=(P,$)=>{const Fe={perspective:Zr({visionPerspective:H,perspectiveStack:l})??[]};return Be.getUrl(Be.getDataUrl("query",eu(P,$,Fe)))},e[110]=Be,e[111]=H,e[112]=l,e[113]=ir):ir=e[113];const Rr=ir;let ut;e[114]!==k||e[115]!==Q||e[116]!==S||e[117]!==r||e[118]!==Sr||e[119]!==br||e[120]!==wr||e[121]!==jr||e[122]!==_||e[123]!==H||e[124]!==I?(ut=d.jsx(Ca,{apiVersion:k,customApiVersion:Q,dataset:S,datasets:r,onChangeDataset:br,onChangeApiVersion:Sr,customApiVersionElementRef:B,onCustomApiVersionChange:jr,isValidApiVersion:_,onChangePerspective:wr,url:I,perspective:H}),e[114]=k,e[115]=Q,e[116]=S,e[117]=r,e[118]=Sr,e[119]=br,e[120]=wr,e[121]=jr,e[122]=_,e[123]=H,e[124]=I,e[125]=ut):ut=e[125];const Nr=He?window.innerWidth:window.innerWidth-275,Ir=vr?"vertical":"horizontal",zr=vr?ye.defaultSize:ye.minSize,jn=ye.size,wn=ye.allowResize,kr=vr?ye.minSize:100,_n=ye.maxSize;let nt;e[126]!==a?(nt=a("query.label"),e[126]=a,e[127]=nt):nt=e[127];let it;e[128]!==nt?(it=d.jsx(yn,{children:d.jsx(ge,{children:d.jsx(Te,{muted:!0,children:nt})})}),e[128]=nt,e[129]=it):it=e[129];let st;e[130]!==V?(st=d.jsx(Fu,{initialValue:V,onChange:W,ref:C}),e[130]=V,e[131]=st):st=e[131];let at;e[132]!==it||e[133]!==st?(at=d.jsx(Ku,{display:"flex","data-testid":"vision-query-editor",children:d.jsxs(ue,{flex:1,children:[it,st]})}),e[132]=it,e[133]=st,e[134]=at):at=e[134];let ot;e[135]!==Or||e[136]!==q.error||e[137]!==q.raw||e[138]!==q.valid?(ot=d.jsx(ea,{value:q.raw,onChange:Or,paramsError:q.error,hasValidParams:q.valid,editorRef:F}),e[135]=Or,e[136]=q.error,e[137]=q.raw,e[138]=q.valid,e[139]=ot):ot=e[139];let lt;e[140]!==_r||e[141]!==oe||e[142]!==Ie||e[143]!==q.valid||e[144]!==Ne?(lt=d.jsx(la,{hasValidParams:q.valid,queryInProgress:Ne,listenInProgress:Ie,onQueryExecution:oe,onListenExecution:_r}),e[140]=_r,e[141]=oe,e[142]=Ie,e[143]=q.valid,e[144]=Ne,e[145]=lt):lt=e[145];let ct;e[146]!==ot||e[147]!==lt?(ct=d.jsxs(Ku,{display:"flex",children:[ot,lt]}),e[146]=ot,e[147]=lt,e[148]=ct):ct=e[148];let dt;e[149]!==ye.allowResize||e[150]!==ye.maxSize||e[151]!==ye.size||e[152]!==zr||e[153]!==kr||e[154]!==at||e[155]!==ct?(dt=d.jsx(ue,{height:"stretch",flex:1,children:d.jsxs(qr,{className:"sidebarPanes",split:"horizontal",defaultSize:zr,size:jn,allowResize:wn,minSize:kr,maxSize:_n,primary:"first",children:[at,ct]})}),e[149]=ye.allowResize,e[150]=ye.maxSize,e[151]=ye.size,e[152]=zr,e[153]=kr,e[154]=at,e[155]=ct,e[156]=dt):dt=e[156];let Dt;e[157]!==S||e[158]!==Er||e[159]!==Ge||e[160]!==Ie||e[161]!==re||e[162]!==Ne||e[163]!==Pe||e[164]!==Ze?(Dt=d.jsx(za,{error:Ge,queryInProgress:Ne,queryResult:Pe,listenInProgress:Ie,listenMutations:re,dataset:S,queryTime:Ze,e2eTime:Er}),e[157]=S,e[158]=Er,e[159]=Ge,e[160]=Ie,e[161]=re,e[162]=Ne,e[163]=Pe,e[164]=Ze,e[165]=Dt):Dt=e[165];let ft;e[166]!==Ir||e[167]!==dt||e[168]!==Dt?(ft=d.jsx(ue,{height:"stretch",flex:1,children:d.jsxs(qr,{className:"sidebarPanes",split:Ir,minSize:300,children:[dt,Dt]})}),e[166]=Ir,e[167]=dt,e[168]=Dt,e[169]=ft):ft=e[169];let sr;e[170]===Symbol.for("react.memo_cache_sentinel")?(sr={position:"relative",height:"100%"},e[170]=sr):sr=e[170];let ar;e[171]===Symbol.for("react.memo_cache_sentinel")?(ar={position:"absolute",left:-32,top:"50%",transform:"translateY(-50%)",zIndex:100,pointerEvents:"auto"},e[171]=ar):ar=e[171];let pt;e[172]!==He?(pt=()=>bn(!He),e[172]=He,e[173]=pt):pt=e[173];let or;e[174]===Symbol.for("react.memo_cache_sentinel")?(or={display:"flex",alignItems:"center",height:"100%"},e[174]=or):or=e[174];let ht;e[175]!==He?(ht=d.jsx("div",{style:or,children:He?d.jsx(Vn,{}):d.jsx(qn,{})}),e[175]=He,e[176]=ht):ht=e[176];let Ct;e[177]!==pt||e[178]!==ht?(Ct=d.jsx(Re,{mode:"ghost",padding:2,style:ar,onClick:pt,children:ht}),e[177]=pt,e[178]=ht,e[179]=Ct):Ct=e[179];let mt;e[180]!==q.parsed?(mt=q.parsed||{},e[180]=q.parsed,e[181]=mt):mt=e[181];let Ft;e[182]!==Rr||e[183]!==tt||e[184]!==V||e[185]!==rt||e[186]!==mt||e[187]!==I?(Ft=d.jsx(ia,{url:I,getStateFromUrl:tt,setStateFromParsedUrl:rt,currentQuery:V,currentParams:mt,generateUrl:Rr}),e[182]=Rr,e[183]=tt,e[184]=V,e[185]=rt,e[186]=mt,e[187]=I,e[188]=Ft):Ft=e[188];let At;e[189]!==Ct||e[190]!==Ft?(At=d.jsxs(ue,{style:sr,children:[Ct,Ft]}),e[189]=Ct,e[190]=Ft,e[191]=At):At=e[191];let gt;e[192]!==Nr||e[193]!==ft||e[194]!==At?(gt=d.jsx(Ms,{flex:"auto",children:d.jsxs(qr,{minSize:800,defaultSize:window.innerWidth-275,size:Nr,maxSize:-225,primary:"first",children:[ft,At]})}),e[192]=Nr,e[193]=ft,e[194]=At,e[195]=gt):gt=e[195];let lr;return e[196]!==ut||e[197]!==gt?(lr=d.jsxs(gn,{direction:"column",height:"fill",ref:h,sizing:"border",overflow:"hidden","data-testid":"vision-root",children:[ut,gt]}),e[196]=ut,e[197]=gt,e[198]=lr):lr=e[198],lr}function Ma(t){const e=ce.c(7),{client:r,datasets:u}=t;let c;e:{if(Array.isArray(u)){let D;e[0]!==u?(D=Zu(u),e[0]=u,e[1]=D):D=e[1],c=D;break e}let n;if(e[2]!==r.observable.datasets||e[3]!==u){let D;e[5]!==u?(D=a=>typeof u=="function"?u(a).map(Ja):a.map(qa),e[5]=u,e[6]=D):D=e[6],n=r.observable.datasets.list().pipe(en(D),Rn(Va)),e[2]=r.observable.datasets,e[3]=u,e[4]=n}else n=e[4];c=n}return Nn(c,null)}function Va(t){return Zu(t)}function qa(t){return t.name}function Ja(t){return t.name}function Qa(t){const e=ce.c(19);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={apiVersion:"v2025-06-27"},e[0]=r):r=e[0];const u=Du(r);let c;e[1]!==u||e[2]!==t.config.datasets?(c={client:u,datasets:t.config.datasets},e[1]=u,e[2]=t.config.datasets,e[3]=c):c=e[3];const n=Ma(c);if(!n){let E;return e[4]===Symbol.for("react.memo_cache_sentinel")?(E=d.jsx(ge,{align:"center",height:"fill",justify:"center",children:d.jsx(Cn,{})}),e[4]=E):E=e[4],E}let D;e[5]!==n||e[6]!==t.client?(D=n instanceof Error?[t.client.config().dataset||"production"]:n,e[5]=n,e[6]=t.client,e[7]=D):D=e[7];const a=D;let l;e[8]!==t.client?(l=t.client.config(),e[8]=t.client,e[9]=l):l=e[9];const C=l.projectId;let F;e[10]!==a||e[11]!==t.client||e[12]!==t.config.defaultDataset?(F=t.config.defaultDataset||t.client.config().dataset||a[0],e[10]=a,e[11]=t.client,e[12]=t.config.defaultDataset,e[13]=F):F=e[13];const h=F;let B;return e[14]!==a||e[15]!==h||e[16]!==C||e[17]!==t?(B=d.jsx(La,{...t,datasets:a,projectId:C,defaultDataset:h},C),e[14]=a,e[15]=h,e[16]=C,e[17]=t,e[18]=B):B=e[18],B}class Ua extends R.Component{constructor(e){super(e),this.state={error:null,numRetries:0}}static getDerivedStateFromError(e){return{error:e instanceof Error?e.message:`${e}`}}handleRetryRender=()=>this.setState(e=>({error:null,numRetries:e.numRetries+1}));handleRetryWithCacheClear=()=>{Ns(),this.handleRetryRender()};render(){if(!this.state.error)return this.props.children;const e=this.state.error,r=this.state.numRetries>0;return d.jsx(de,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:d.jsx(On,{width:3,children:d.jsxs(Ae,{space:4,children:[d.jsx("div",{children:d.jsx(Re,{onClick:r?this.handleRetryWithCacheClear:this.handleRetryRender,text:r?"Clear cache and retry":"Retry",tone:"default"})}),d.jsx(Pn,{children:"An error occurred"}),d.jsx(de,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:d.jsx(Ae,{space:4,children:e&&d.jsx(Fr,{size:1,children:d.jsxs("strong",{children:["Error: ",e]})})})})]})})})}}function Ya(t){const e=ce.c(6);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={apiVersion:"1"},e[0]=r):r=e[0];const u=Du(r);let c;e[1]!==t.tool.options?(c={defaultApiVersion:hn,...t.tool.options},e[1]=t.tool.options,e[2]=c):c=e[2];const n=c;let D;return e[3]!==u||e[4]!==n?(D=d.jsx(Ua,{children:d.jsx(Qa,{client:u,config:n})}),e[3]=u,e[4]=n,e[5]=D):D=e[5],D}export{Ya as default};
